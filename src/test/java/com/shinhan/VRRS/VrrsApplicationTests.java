package com.shinhan.VRRS;

import com.nimbusds.jose.shaded.gson.Gson;
import com.nimbusds.jose.shaded.gson.JsonArray;
import com.nimbusds.jose.shaded.gson.JsonObject;
import com.shinhan.VRRS.util.JsonUtil;
import org.junit.jupiter.api.Test;
import org.springframework.boot.test.context.SpringBootTest;

import java.util.ArrayList;
import java.util.List;
import java.util.Map;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

@SpringBootTest
class VrrsApplicationTests {
	@Test
	void contextLoads() {
		extractImageText();
	}

    // 키워드 및 알레르기 원재료 정의
    private static final String[] keywords = {"제품명", "식품유형", "품목보고번호", "유통기한", "원재료", "원료"};
    private static final String[] allergyIngredients = {"밀", "대두", "닭고기", "쇠고기", "조개류"};

    private static final double ERROR_MARGIN = 2.5; // 오차 범위 정의
    private static final Pattern SPECIAL_CHAR_PATTERN = Pattern.compile("[*·:]");

    public void extractImageText() {
		List<String> processedText = new ArrayList<String>();
		try {
//			String ocrResponse = "{\"version\":\"V2\",\"requestId\":\"ea1d8876-54d8-47b9-bf18-1c2add3d7248\",\"timestamp\":1726109194149,\"images\":[{\"uid\":\"13a9d07d82714105992661b704187045\",\"name\":\"demo\",\"inferResult\":\"SUCCESS\",\"message\":\"SUCCESS\",\"validationResult\":{\"result\":\"NO_REQUESTED\"},\"convertedImageInfo\":{\"width\":773,\"height\":878,\"pageIndex\":0,\"longImage\":false},\"fields\":[{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":38.0,\"y\":12.0},{\"x\":175.0,\"y\":15.0},{\"x\":174.0,\"y\":68.0},{\"x\":37.0,\"y\":65.0}]},\"inferText\":\"원재료명\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":230.0,\"y\":8.0},{\"x\":710.0,\"y\":-1.0},{\"x\":711.0,\"y\":63.0},{\"x\":231.0,\"y\":71.0}]},\"inferText\":\"면/쌀가루(국내산),감자전분(국내산),\",\"inferConfidence\":0.9927,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":231.0,\"y\":59.0},{\"x\":507.0,\"y\":52.0},{\"x\":508.0,\"y\":113.0},{\"x\":232.0,\"y\":120.0}]},\"inferText\":\"팜유(말레이시아산),\",\"inferConfidence\":0.9962,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":504.0,\"y\":60.0},{\"x\":624.0,\"y\":56.0},{\"x\":625.0,\"y\":108.0},{\"x\":505.0,\"y\":112.0}]},\"inferText\":\"변성전분,\",\"inferConfidence\":0.9997,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":621.0,\"y\":54.0},{\"x\":713.0,\"y\":54.0},{\"x\":713.0,\"y\":105.0},{\"x\":621.0,\"y\":105.0}]},\"inferText\":\"글루텐,\",\"inferConfidence\":0.9992,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":234.0,\"y\":111.0},{\"x\":396.0,\"y\":111.0},{\"x\":396.0,\"y\":163.0},{\"x\":234.0,\"y\":163.0}]},\"inferText\":\"태움.용융소금,\",\"inferConfidence\":0.9916,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":390.0,\"y\":107.0},{\"x\":510.0,\"y\":107.0},{\"x\":510.0,\"y\":159.0},{\"x\":390.0,\"y\":159.0}]},\"inferText\":\"감미유-R,\",\"inferConfidence\":0.9983,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":502.0,\"y\":109.0},{\"x\":638.0,\"y\":102.0},{\"x\":641.0,\"y\":153.0},{\"x\":504.0,\"y\":160.0}]},\"inferText\":\"산도조절제,\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":633.0,\"y\":102.0},{\"x\":719.0,\"y\":102.0},{\"x\":719.0,\"y\":153.0},{\"x\":633.0,\"y\":153.0}]},\"inferText\":\"구아검,\",\"inferConfidence\":0.9983,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":233.0,\"y\":159.0},{\"x\":719.0,\"y\":147.0},{\"x\":720.0,\"y\":202.0},{\"x\":235.0,\"y\":213.0}]},\"inferText\":\"면류첨가알칼리제(탄산칼륨,탄산나트륨,피로\",\"inferConfidence\":0.9928,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":234.0,\"y\":209.0},{\"x\":382.0,\"y\":206.0},{\"x\":383.0,\"y\":258.0},{\"x\":235.0,\"y\":261.0}]},\"inferText\":\"인산나트륨),\",\"inferConfidence\":0.994,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":381.0,\"y\":205.0},{\"x\":502.0,\"y\":205.0},{\"x\":502.0,\"y\":258.0},{\"x\":381.0,\"y\":258.0}]},\"inferText\":\"비타민B2\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":230.0,\"y\":245.0},{\"x\":481.0,\"y\":245.0},{\"x\":481.0,\"y\":307.0},{\"x\":230.0,\"y\":307.0}]},\"inferText\":\"짜장소스/양파(국내산),\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":475.0,\"y\":247.0},{\"x\":558.0,\"y\":247.0},{\"x\":558.0,\"y\":303.0},{\"x\":475.0,\"y\":303.0}]},\"inferText\":\"정제수,\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":549.0,\"y\":241.0},{\"x\":734.0,\"y\":236.0},{\"x\":736.0,\"y\":297.0},{\"x\":551.0,\"y\":302.0}]},\"inferText\":\"춘장[밀(국내산),\",\"inferConfidence\":0.9979,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":233.0,\"y\":297.0},{\"x\":392.0,\"y\":297.0},{\"x\":392.0,\"y\":356.0},{\"x\":233.0,\"y\":356.0}]},\"inferText\":\"대두(국내산),\",\"inferConfidence\":0.9962,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":383.0,\"y\":301.0},{\"x\":560.0,\"y\":298.0},{\"x\":561.0,\"y\":352.0},{\"x\":384.0,\"y\":354.0}]},\"inferText\":\"식염, 주정, 종국],\",\"inferConfidence\":0.9558,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":551.0,\"y\":290.0},{\"x\":737.0,\"y\":286.0},{\"x\":739.0,\"y\":349.0},{\"x\":552.0,\"y\":353.0}]},\"inferText\":\"양배추(국내산),\",\"inferConfidence\":0.9988,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":231.0,\"y\":346.0},{\"x\":411.0,\"y\":343.0},{\"x\":412.0,\"y\":406.0},{\"x\":232.0,\"y\":409.0}]},\"inferText\":\"감자(국내산),\",\"inferConfidence\":0.9943,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":406.0,\"y\":350.0},{\"x\":652.0,\"y\":348.0},{\"x\":653.0,\"y\":400.0},{\"x\":406.0,\"y\":403.0}]},\"inferText\":\"우마미베이스비-115,\",\"inferConfidence\":0.9958,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":648.0,\"y\":345.0},{\"x\":739.0,\"y\":345.0},{\"x\":739.0,\"y\":398.0},{\"x\":648.0,\"y\":398.0}]},\"inferText\":\"백설탕,\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":233.0,\"y\":401.0},{\"x\":330.0,\"y\":401.0},{\"x\":330.0,\"y\":458.0},{\"x\":233.0,\"y\":458.0}]},\"inferText\":\"현미유,\",\"inferConfidence\":0.9943,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":324.0,\"y\":400.0},{\"x\":445.0,\"y\":400.0},{\"x\":445.0,\"y\":456.0},{\"x\":324.0,\"y\":456.0}]},\"inferText\":\"돼지고기,\",\"inferConfidence\":0.9996,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":442.0,\"y\":398.0},{\"x\":599.0,\"y\":398.0},{\"x\":599.0,\"y\":452.0},{\"x\":442.0,\"y\":452.0}]},\"inferText\":\"조미돈지-P,\",\"inferConfidence\":0.994,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":595.0,\"y\":395.0},{\"x\":743.0,\"y\":395.0},{\"x\":743.0,\"y\":452.0},{\"x\":595.0,\"y\":452.0}]},\"inferText\":\"두류가공품,\",\"inferConfidence\":0.9995,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":231.0,\"y\":453.0},{\"x\":345.0,\"y\":453.0},{\"x\":345.0,\"y\":508.0},{\"x\":231.0,\"y\":508.0}]},\"inferText\":\"변성전분,\",\"inferConfidence\":0.9997,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":338.0,\"y\":452.0},{\"x\":452.0,\"y\":452.0},{\"x\":452.0,\"y\":507.0},{\"x\":338.0,\"y\":507.0}]},\"inferText\":\"정제소금,\",\"inferConfidence\":0.9997,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":444.0,\"y\":449.0},{\"x\":582.0,\"y\":449.0},{\"x\":582.0,\"y\":505.0},{\"x\":444.0,\"y\":505.0}]},\"inferText\":\"당류가공품,\",\"inferConfidence\":0.9991,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":575.0,\"y\":449.0},{\"x\":737.0,\"y\":446.0},{\"x\":738.0,\"y\":502.0},{\"x\":577.0,\"y\":505.0}]},\"inferText\":\"조미오일(채종\",\"inferConfidence\":0.9993,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":228.0,\"y\":506.0},{\"x\":431.0,\"y\":501.0},{\"x\":433.0,\"y\":559.0},{\"x\":229.0,\"y\":564.0}]},\"inferText\":\"유,건양따,컨마늘),\",\"inferConfidence\":0.9717,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":426.0,\"y\":495.0},{\"x\":607.0,\"y\":493.0},{\"x\":608.0,\"y\":559.0},{\"x\":427.0,\"y\":561.0}]},\"inferText\":\"마늘(국내산),\",\"inferConfidence\":0.9932,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":601.0,\"y\":499.0},{\"x\":740.0,\"y\":499.0},{\"x\":740.0,\"y\":557.0},{\"x\":601.0,\"y\":557.0}]},\"inferText\":\"파기름(대두\",\"inferConfidence\":0.9996,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":231.0,\"y\":561.0},{\"x\":277.0,\"y\":561.0},{\"x\":277.0,\"y\":614.0},{\"x\":231.0,\"y\":614.0}]},\"inferText\":\"유,\",\"inferConfidence\":0.9975,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":272.0,\"y\":557.0},{\"x\":347.0,\"y\":557.0},{\"x\":347.0,\"y\":615.0},{\"x\":272.0,\"y\":615.0}]},\"inferText\":\"대파,\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":342.0,\"y\":555.0},{\"x\":422.0,\"y\":554.0},{\"x\":423.0,\"y\":612.0},{\"x\":343.0,\"y\":614.0}]},\"inferText\":\"생강),\",\"inferConfidence\":0.9873,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":420.0,\"y\":554.0},{\"x\":749.0,\"y\":552.0},{\"x\":750.0,\"y\":608.0},{\"x\":420.0,\"y\":611.0}]},\"inferText\":\"로스티드오니온후레바오일,\",\"inferConfidence\":0.9892,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":228.0,\"y\":604.0},{\"x\":420.0,\"y\":600.0},{\"x\":421.0,\"y\":670.0},{\"x\":229.0,\"y\":673.0}]},\"inferText\":\"생강(국내산),\",\"inferConfidence\":0.9949,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":416.0,\"y\":605.0},{\"x\":516.0,\"y\":605.0},{\"x\":516.0,\"y\":666.0},{\"x\":416.0,\"y\":666.0}]},\"inferText\":\"흑후추,\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":507.0,\"y\":599.0},{\"x\":756.0,\"y\":596.0},{\"x\":757.0,\"y\":666.0},{\"x\":508.0,\"y\":668.0}]},\"inferText\":\"수수분말(국내산)\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":230.0,\"y\":680.0},{\"x\":272.0,\"y\":680.0},{\"x\":272.0,\"y\":733.0},{\"x\":230.0,\"y\":733.0}]},\"inferText\":\"밀,\",\"inferConfidence\":0.9943,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":265.0,\"y\":677.0},{\"x\":337.0,\"y\":677.0},{\"x\":337.0,\"y\":737.0},{\"x\":265.0,\"y\":737.0}]},\"inferText\":\"대두,\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":327.0,\"y\":674.0},{\"x\":447.0,\"y\":671.0},{\"x\":448.0,\"y\":732.0},{\"x\":328.0,\"y\":734.0}]},\"inferText\":\"돼지고기,\",\"inferConfidence\":0.9988,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":439.0,\"y\":670.0},{\"x\":620.0,\"y\":669.0},{\"x\":620.0,\"y\":731.0},{\"x\":439.0,\"y\":732.0}]},\"inferText\":\"조개류(바지락),\",\"inferConfidence\":0.9987,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":613.0,\"y\":669.0},{\"x\":702.0,\"y\":669.0},{\"x\":702.0,\"y\":731.0},{\"x\":613.0,\"y\":731.0}]},\"inferText\":\"쇠고기\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":693.0,\"y\":667.0},{\"x\":756.0,\"y\":667.0},{\"x\":756.0,\"y\":727.0},{\"x\":693.0,\"y\":727.0}]},\"inferText\":\"함유\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":15.0,\"y\":749.0},{\"x\":111.0,\"y\":749.0},{\"x\":111.0,\"y\":807.0},{\"x\":15.0,\"y\":807.0}]},\"inferText\":\"성분명\",\"inferConfidence\":0.9985,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":111.0,\"y\":754.0},{\"x\":141.0,\"y\":754.0},{\"x\":141.0,\"y\":804.0},{\"x\":111.0,\"y\":804.0}]},\"inferText\":\"및\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":138.0,\"y\":747.0},{\"x\":205.0,\"y\":747.0},{\"x\":205.0,\"y\":810.0},{\"x\":138.0,\"y\":810.0}]},\"inferText\":\"함량\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":218.0,\"y\":746.0},{\"x\":280.0,\"y\":746.0},{\"x\":280.0,\"y\":816.0},{\"x\":218.0,\"y\":816.0}]},\"inferText\":\"면중\",\"inferConfidence\":0.9913,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":268.0,\"y\":744.0},{\"x\":520.0,\"y\":744.0},{\"x\":520.0,\"y\":816.0},{\"x\":268.0,\"y\":816.0}]},\"inferText\":\"쌀가루(국내산)30.11%,\",\"inferConfidence\":0.9969,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":508.0,\"y\":741.0},{\"x\":769.0,\"y\":740.0},{\"x\":769.0,\"y\":809.0},{\"x\":509.0,\"y\":811.0}]},\"inferText\":\"감자전분(국내산)19.99%\",\"inferConfidence\":0.9994,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":218.0,\"y\":808.0},{\"x\":328.0,\"y\":808.0},{\"x\":328.0,\"y\":876.0},{\"x\":218.0,\"y\":876.0}]},\"inferText\":\"짜장소스\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":323.0,\"y\":814.0},{\"x\":356.0,\"y\":814.0},{\"x\":356.0,\"y\":869.0},{\"x\":323.0,\"y\":869.0}]},\"inferText\":\"중\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":350.0,\"y\":805.0},{\"x\":418.0,\"y\":805.0},{\"x\":418.0,\"y\":873.0},{\"x\":350.0,\"y\":873.0}]},\"inferText\":\"춘장\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":406.0,\"y\":803.0},{\"x\":623.0,\"y\":803.0},{\"x\":623.0,\"y\":872.0},{\"x\":406.0,\"y\":872.0}]},\"inferText\":\"10.1%[밀(국내산),\",\"inferConfidence\":0.9877,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":611.0,\"y\":802.0},{\"x\":772.0,\"y\":792.0},{\"x\":776.0,\"y\":865.0},{\"x\":616.0,\"y\":875.0}]},\"inferText\":\"대두(국내산)]\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":true}]}]}";

//            String ocrResponse = "{\"version\":\"V2\",\"requestId\":\"d8bde9269f3a43f0bfe3a436f9785547\",\"timestamp\":1727148146430,\"images\":[{\"uid\":\"2747489513b547beb3267e95d2dca241\",\"name\":\"demo\",\"inferResult\":\"SUCCESS\",\"message\":\"SUCCESS\",\"validationResult\":{\"result\":\"NO_REQUESTED\"},\"convertedImageInfo\":{\"width\":647,\"height\":858,\"pageIndex\":0,\"longImage\":false},\"fields\":[{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":17.0,\"y\":11.0},{\"x\":284.0,\"y\":21.0},{\"x\":282.0,\"y\":73.0},{\"x\":16.0,\"y\":62.0}]},\"inferText\":\"원재료명 및 함량\",\"inferConfidence\":0.9984,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":13.0,\"y\":71.0},{\"x\":90.0,\"y\":71.0},{\"x\":90.0,\"y\":123.0},{\"x\":13.0,\"y\":123.0}]},\"inferText\":\"제품명\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":106.0,\"y\":70.0},{\"x\":334.0,\"y\":82.0},{\"x\":331.0,\"y\":136.0},{\"x\":103.0,\"y\":125.0}]},\"inferText\":\"다시다골드쇠고기\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":347.0,\"y\":86.0},{\"x\":407.0,\"y\":86.0},{\"x\":407.0,\"y\":136.0},{\"x\":347.0,\"y\":136.0}]},\"inferText\":\"식품의\",\"inferConfidence\":0.9995,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":397.0,\"y\":90.0},{\"x\":440.0,\"y\":90.0},{\"x\":440.0,\"y\":136.0},{\"x\":397.0,\"y\":136.0}]},\"inferText\":\"유형\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":443.0,\"y\":85.0},{\"x\":607.0,\"y\":92.0},{\"x\":605.0,\"y\":150.0},{\"x\":441.0,\"y\":143.0}]},\"inferText\":\"복합조미식품\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":617.0,\"y\":112.0},{\"x\":630.0,\"y\":112.0},{\"x\":630.0,\"y\":127.0},{\"x\":617.0,\"y\":127.0}]},\"inferText\":\"·\",\"inferConfidence\":0.998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":629.0,\"y\":105.0},{\"x\":644.0,\"y\":105.0},{\"x\":644.0,\"y\":133.0},{\"x\":629.0,\"y\":133.0}]},\"inferText\":\"0\",\"inferConfidence\":0.9808,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":16.0,\"y\":130.0},{\"x\":88.0,\"y\":130.0},{\"x\":88.0,\"y\":183.0},{\"x\":16.0,\"y\":183.0}]},\"inferText\":\"제조원\",\"inferConfidence\":0.9996,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":103.0,\"y\":127.0},{\"x\":352.0,\"y\":136.0},{\"x\":349.0,\"y\":198.0},{\"x\":101.0,\"y\":189.0}]},\"inferText\":\"씨제이제일제당주식회사\",\"inferConfidence\":0.9994,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":340.0,\"y\":138.0},{\"x\":455.0,\"y\":140.0},{\"x\":454.0,\"y\":198.0},{\"x\":339.0,\"y\":196.0}]},\"inferText\":\"부산광역시\",\"inferConfidence\":0.9992,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":444.0,\"y\":142.0},{\"x\":518.0,\"y\":142.0},{\"x\":518.0,\"y\":198.0},{\"x\":444.0,\"y\":198.0}]},\"inferText\":\"사하구\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":508.0,\"y\":145.0},{\"x\":581.0,\"y\":145.0},{\"x\":581.0,\"y\":199.0},{\"x\":508.0,\"y\":199.0}]},\"inferText\":\"다대로\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":570.0,\"y\":149.0},{\"x\":616.0,\"y\":149.0},{\"x\":616.0,\"y\":194.0},{\"x\":570.0,\"y\":194.0}]},\"inferText\":\"210\",\"inferConfidence\":0.9879,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":3.0,\"y\":188.0},{\"x\":103.0,\"y\":190.0},{\"x\":102.0,\"y\":243.0},{\"x\":2.0,\"y\":242.0}]},\"inferText\":\"유통기한\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":105.0,\"y\":186.0},{\"x\":315.0,\"y\":188.0},{\"x\":315.0,\"y\":250.0},{\"x\":105.0,\"y\":248.0}]},\"inferText\":\"후면표기일까지\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":365.0,\"y\":198.0},{\"x\":435.0,\"y\":198.0},{\"x\":435.0,\"y\":246.0},{\"x\":365.0,\"y\":246.0}]},\"inferText\":\"내용량\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":450.0,\"y\":198.0},{\"x\":511.0,\"y\":198.0},{\"x\":511.0,\"y\":247.0},{\"x\":450.0,\"y\":247.0}]},\"inferText\":\"250\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":509.0,\"y\":211.0},{\"x\":532.0,\"y\":211.0},{\"x\":532.0,\"y\":247.0},{\"x\":509.0,\"y\":247.0}]},\"inferText\":\"g\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":103.0,\"y\":249.0},{\"x\":230.0,\"y\":249.0},{\"x\":230.0,\"y\":312.0},{\"x\":103.0,\"y\":312.0}]},\"inferText\":\"천일염(국산),\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":216.0,\"y\":252.0},{\"x\":628.0,\"y\":249.0},{\"x\":629.0,\"y\":307.0},{\"x\":217.0,\"y\":311.0}]},\"inferText\":\"한우맛내기분말골드(혼합양념분말골드(중국산), 농축\",\"inferConfidence\":0.954,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":104.0,\"y\":306.0},{\"x\":358.0,\"y\":303.0},{\"x\":359.0,\"y\":365.0},{\"x\":105.0,\"y\":368.0}]},\"inferText\":\"간장분말(탈지대두:외국산),\",\"inferConfidence\":0.9989,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":346.0,\"y\":307.0},{\"x\":633.0,\"y\":301.0},{\"x\":634.0,\"y\":357.0},{\"x\":347.0,\"y\":364.0}]},\"inferText\":\"한우쇠고기분말(한우쇠고기:국산),\",\"inferConfidence\":0.9894,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":108.0,\"y\":365.0},{\"x\":422.0,\"y\":364.0},{\"x\":422.0,\"y\":421.0},{\"x\":108.0,\"y\":422.0}]},\"inferText\":\"후추가루,,L-글루탐산나트륨(향미증진제),\",\"inferConfidence\":0.9673,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":411.0,\"y\":364.0},{\"x\":473.0,\"y\":364.0},{\"x\":473.0,\"y\":410.0},{\"x\":411.0,\"y\":410.0}]},\"inferText\":\",포도당,\",\"inferConfidence\":0.9984,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":463.0,\"y\":362.0},{\"x\":525.0,\"y\":362.0},{\"x\":525.0,\"y\":411.0},{\"x\":463.0,\"y\":411.0}]},\"inferText\":\",백설탕,\",\"inferConfidence\":0.8925,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":512.0,\"y\":354.0},{\"x\":634.0,\"y\":353.0},{\"x\":635.0,\"y\":413.0},{\"x\":513.0,\"y\":414.0}]},\"inferText\":\", 농축간장[탈지\",\"inferConfidence\":0.9449,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":15.0,\"y\":451.0},{\"x\":108.0,\"y\":451.0},{\"x\":108.0,\"y\":503.0},{\"x\":15.0,\"y\":503.0}]},\"inferText\":\"원재료명\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":110.0,\"y\":419.0},{\"x\":241.0,\"y\":419.0},{\"x\":241.0,\"y\":481.0},{\"x\":110.0,\"y\":481.0}]},\"inferText\":\"대두(외국산),\",\"inferConfidence\":0.9993,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":227.0,\"y\":419.0},{\"x\":435.0,\"y\":411.0},{\"x\":438.0,\"y\":472.0},{\"x\":230.0,\"y\":480.0}]},\"inferText\":\"콘글루텐(뉴질랜드산)],\",\"inferConfidence\":0.9956,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":425.0,\"y\":412.0},{\"x\":603.0,\"y\":410.0},{\"x\":603.0,\"y\":469.0},{\"x\":425.0,\"y\":471.0}]},\"inferText\":\"한우지방(한우:국산),\",\"inferConfidence\":0.9991,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":592.0,\"y\":413.0},{\"x\":635.0,\"y\":413.0},{\"x\":635.0,\"y\":460.0},{\"x\":592.0,\"y\":460.0}]},\"inferText\":\"말토\",\"inferConfidence\":0.9963,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":113.0,\"y\":481.0},{\"x\":192.0,\"y\":481.0},{\"x\":192.0,\"y\":532.0},{\"x\":113.0,\"y\":532.0}]},\"inferText\":\"덱스트린,\",\"inferConfidence\":0.9997,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":181.0,\"y\":477.0},{\"x\":604.0,\"y\":461.0},{\"x\":607.0,\"y\":521.0},{\"x\":183.0,\"y\":538.0}]},\"inferText\":\".정제우지(우지:호주산),쇠고기액기/쇠고기(호주산),\",\"inferConfidence\":0.9164,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":594.0,\"y\":467.0},{\"x\":636.0,\"y\":467.0},{\"x\":636.0,\"y\":507.0},{\"x\":594.0,\"y\":507.0}]},\"inferText\":\"아미\",\"inferConfidence\":0.9872,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":28.0,\"y\":508.0},{\"x\":54.0,\"y\":508.0},{\"x\":54.0,\"y\":549.0},{\"x\":28.0,\"y\":549.0}]},\"inferText\":\"및\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":51.0,\"y\":503.0},{\"x\":105.0,\"y\":503.0},{\"x\":105.0,\"y\":554.0},{\"x\":51.0,\"y\":554.0}]},\"inferText\":\"함량\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":115.0,\"y\":537.0},{\"x\":212.0,\"y\":537.0},{\"x\":212.0,\"y\":588.0},{\"x\":115.0,\"y\":588.0}]},\"inferText\":\"노산베이스,\",\"inferConfidence\":0.9992,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":203.0,\"y\":537.0},{\"x\":330.0,\"y\":532.0},{\"x\":332.0,\"y\":582.0},{\"x\":205.0,\"y\":587.0}]},\"inferText\":\"진한국물베이스,\",\"inferConfidence\":0.9583,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":318.0,\"y\":529.0},{\"x\":519.0,\"y\":518.0},{\"x\":522.0,\"y\":575.0},{\"x\":321.0,\"y\":586.0}]},\"inferText\":\"고기국물맛분말, 소스류,\",\"inferConfidence\":0.9859,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":507.0,\"y\":525.0},{\"x\":639.0,\"y\":519.0},{\"x\":641.0,\"y\":567.0},{\"x\":509.0,\"y\":573.0}]},\"inferText\":\"콩발효추출물분말,\",\"inferConfidence\":0.9721,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":118.0,\"y\":588.0},{\"x\":214.0,\"y\":588.0},{\"x\":214.0,\"y\":638.0},{\"x\":118.0,\"y\":638.0}]},\"inferText\":\"효모엑기스,\",\"inferConfidence\":0.9992,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":205.0,\"y\":586.0},{\"x\":307.0,\"y\":586.0},{\"x\":307.0,\"y\":637.0},{\"x\":205.0,\"y\":637.0}]},\"inferText\":\"향미증진제1,\",\"inferConfidence\":0.9992,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":296.0,\"y\":583.0},{\"x\":421.0,\"y\":579.0},{\"x\":423.0,\"y\":629.0},{\"x\":298.0,\"y\":633.0}]},\"inferText\":\"효모베이스분말,\",\"inferConfidence\":0.9956,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":411.0,\"y\":577.0},{\"x\":490.0,\"y\":577.0},{\"x\":490.0,\"y\":626.0},{\"x\":411.0,\"y\":626.0}]},\"inferText\":\",무즙분말,\",\"inferConfidence\":0.9464,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":478.0,\"y\":575.0},{\"x\":577.0,\"y\":572.0},{\"x\":578.0,\"y\":622.0},{\"x\":479.0,\"y\":625.0}]},\"inferText\":\"향미증진제2,\",\"inferConfidence\":0.9888,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":567.0,\"y\":568.0},{\"x\":639.0,\"y\":568.0},{\"x\":639.0,\"y\":617.0},{\"x\":567.0,\"y\":617.0}]},\"inferText\":\", 세이버리\",\"inferConfidence\":0.9763,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":121.0,\"y\":638.0},{\"x\":185.0,\"y\":638.0},{\"x\":185.0,\"y\":687.0},{\"x\":121.0,\"y\":687.0}]},\"inferText\":\"인핸서,\",\"inferConfidence\":0.9592,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":172.0,\"y\":638.0},{\"x\":311.0,\"y\":631.0},{\"x\":314.0,\"y\":681.0},{\"x\":174.0,\"y\":688.0}]},\"inferText\":\", 스튜드비프후레바,\",\"inferConfidence\":0.9277,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":301.0,\"y\":631.0},{\"x\":422.0,\"y\":627.0},{\"x\":423.0,\"y\":677.0},{\"x\":302.0,\"y\":681.0}]},\"inferText\":\"효모추출물제품,\",\"inferConfidence\":0.9639,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":413.0,\"y\":625.0},{\"x\":503.0,\"y\":625.0},{\"x\":503.0,\"y\":674.0},{\"x\":413.0,\"y\":674.0}]},\"inferText\":\"구운양파향,\",\"inferConfidence\":0.9973,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":491.0,\"y\":623.0},{\"x\":607.0,\"y\":617.0},{\"x\":610.0,\"y\":666.0},{\"x\":493.0,\"y\":672.0}]},\"inferText\":\"마늘양파혼합분,\",\"inferConfidence\":0.9954,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":598.0,\"y\":617.0},{\"x\":639.0,\"y\":617.0},{\"x\":639.0,\"y\":663.0},{\"x\":598.0,\"y\":663.0}]},\"inferText\":\"향미\",\"inferConfidence\":0.8,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":123.0,\"y\":693.0},{\"x\":195.0,\"y\":693.0},{\"x\":195.0,\"y\":742.0},{\"x\":123.0,\"y\":742.0}]},\"inferText\":\"증진제3,\",\"inferConfidence\":0.9987,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":185.0,\"y\":689.0},{\"x\":274.0,\"y\":689.0},{\"x\":274.0,\"y\":741.0},{\"x\":185.0,\"y\":741.0}]},\"inferText\":\"영양강화제\",\"inferConfidence\":0.9625,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":267.0,\"y\":682.0},{\"x\":369.0,\"y\":677.0},{\"x\":372.0,\"y\":735.0},{\"x\":270.0,\"y\":739.0}]},\"inferText\":\"특정성분\",\"inferConfidence\":0.9863,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":360.0,\"y\":677.0},{\"x\":412.0,\"y\":677.0},{\"x\":412.0,\"y\":732.0},{\"x\":360.0,\"y\":732.0}]},\"inferText\":\"함량\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":406.0,\"y\":688.0},{\"x\":419.0,\"y\":688.0},{\"x\":419.0,\"y\":719.0},{\"x\":406.0,\"y\":719.0}]},\"inferText\":\":\",\"inferConfidence\":0.9996,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":413.0,\"y\":671.0},{\"x\":515.0,\"y\":671.0},{\"x\":515.0,\"y\":730.0},{\"x\":413.0,\"y\":730.0}]},\"inferText\":\"한우쇠고기\",\"inferConfidence\":0.9983,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":509.0,\"y\":676.0},{\"x\":536.0,\"y\":676.0},{\"x\":536.0,\"y\":718.0},{\"x\":509.0,\"y\":718.0}]},\"inferText\":\"10\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":527.0,\"y\":666.0},{\"x\":640.0,\"y\":661.0},{\"x\":643.0,\"y\":721.0},{\"x\":529.0,\"y\":726.0}]},\"inferText\":\"%(정육기준)\",\"inferConfidence\":0.9994,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":129.0,\"y\":744.0},{\"x\":229.0,\"y\":744.0},{\"x\":229.0,\"y\":801.0},{\"x\":129.0,\"y\":801.0}]},\"inferText\":\"쇠고기,\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":224.0,\"y\":742.0},{\"x\":323.0,\"y\":742.0},{\"x\":323.0,\"y\":799.0},{\"x\":224.0,\"y\":799.0}]},\"inferText\":\"닭고기,\",\"inferConfidence\":0.998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":318.0,\"y\":738.0},{\"x\":391.0,\"y\":738.0},{\"x\":391.0,\"y\":795.0},{\"x\":318.0,\"y\":795.0}]},\"inferText\":\"대두,\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":385.0,\"y\":736.0},{\"x\":581.0,\"y\":725.0},{\"x\":584.0,\"y\":782.0},{\"x\":388.0,\"y\":793.0}]},\"inferText\":\"밀,우유,조개류\",\"inferConfidence\":0.9891,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":576.0,\"y\":721.0},{\"x\":640.0,\"y\":721.0},{\"x\":640.0,\"y\":778.0},{\"x\":576.0,\"y\":778.0}]},\"inferText\":\"함유\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":33.0,\"y\":800.0},{\"x\":128.0,\"y\":798.0},{\"x\":129.0,\"y\":843.0},{\"x\":34.0,\"y\":845.0}]},\"inferText\":\"용기(포장)재질\",\"inferConfidence\":0.9991,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":134.0,\"y\":796.0},{\"x\":322.0,\"y\":792.0},{\"x\":322.0,\"y\":840.0},{\"x\":135.0,\"y\":843.0}]},\"inferText\":\"폴리에틸렌(내면)\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":337.0,\"y\":793.0},{\"x\":442.0,\"y\":789.0},{\"x\":444.0,\"y\":832.0},{\"x\":338.0,\"y\":836.0}]},\"inferText\":\"품목보고번호\",\"inferConfidence\":0.9996,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":447.0,\"y\":788.0},{\"x\":630.0,\"y\":775.0},{\"x\":633.0,\"y\":816.0},{\"x\":450.0,\"y\":829.0}]},\"inferText\":\"19910144038478\",\"inferConfidence\":0.9995,\"type\":\"NORMAL\",\"lineBreak\":true}]}],\"originalFileName\":\"KakaoTalk_20240924_103821905_09\",\"imageType\":\"jpg\"}";

          String ocrResponse = "{\"version\":\"V2\",\"requestId\":\"b91630111768416699c4c9c693e4e4e9\",\"timestamp\":1727148627847,\"images\":[{\"uid\":\"76cb414d03274c708e47b2a887c8d982\",\"name\":\"demo\",\"inferResult\":\"SUCCESS\",\"message\":\"SUCCESS\",\"validationResult\":{\"result\":\"NO_REQUESTED\"},\"convertedImageInfo\":{\"width\":600,\"height\":544,\"pageIndex\":0,\"longImage\":false},\"fields\":[{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":17.0,\"y\":9.0},{\"x\":78.0,\"y\":9.0},{\"x\":78.0,\"y\":42.0},{\"x\":17.0,\"y\":42.0}]},\"inferText\":\"제품명\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":156.0,\"y\":10.0},{\"x\":254.0,\"y\":10.0},{\"x\":254.0,\"y\":45.0},{\"x\":156.0,\"y\":45.0}]},\"inferText\":\"화미와사비\",\"inferConfidence\":0.9992,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":304.0,\"y\":13.0},{\"x\":366.0,\"y\":13.0},{\"x\":366.0,\"y\":46.0},{\"x\":304.0,\"y\":46.0}]},\"inferText\":\"식품의\",\"inferConfidence\":0.9988,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":363.0,\"y\":13.0},{\"x\":408.0,\"y\":13.0},{\"x\":408.0,\"y\":46.0},{\"x\":363.0,\"y\":46.0}]},\"inferText\":\"유형\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":436.0,\"y\":11.0},{\"x\":552.0,\"y\":11.0},{\"x\":552.0,\"y\":44.0},{\"x\":436.0,\"y\":44.0}]},\"inferText\":\"향신료조제품\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":17.0,\"y\":45.0},{\"x\":113.0,\"y\":45.0},{\"x\":113.0,\"y\":78.0},{\"x\":17.0,\"y\":78.0}]},\"inferText\":\"제조판매원\",\"inferConfidence\":0.9997,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":157.0,\"y\":46.0},{\"x\":472.0,\"y\":46.0},{\"x\":472.0,\"y\":79.0},{\"x\":157.0,\"y\":79.0}]},\"inferText\":\"(주)화미,인천광역시서구 열우물로 221\",\"inferConfidence\":0.9414,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":17.0,\"y\":80.0},{\"x\":97.0,\"y\":81.0},{\"x\":97.0,\"y\":115.0},{\"x\":17.0,\"y\":114.0}]},\"inferText\":\"유통기한\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":158.0,\"y\":81.0},{\"x\":290.0,\"y\":81.0},{\"x\":290.0,\"y\":115.0},{\"x\":158.0,\"y\":115.0}]},\"inferText\":\"별도표시일까지\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":343.0,\"y\":81.0},{\"x\":406.0,\"y\":81.0},{\"x\":406.0,\"y\":116.0},{\"x\":343.0,\"y\":116.0}]},\"inferText\":\"내용량\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":435.0,\"y\":83.0},{\"x\":493.0,\"y\":85.0},{\"x\":491.0,\"y\":116.0},{\"x\":434.0,\"y\":114.0}]},\"inferText\":\"200g\",\"inferConfidence\":0.941,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":18.0,\"y\":126.0},{\"x\":95.0,\"y\":126.0},{\"x\":95.0,\"y\":161.0},{\"x\":18.0,\"y\":161.0}]},\"inferText\":\"원재료명\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":159.0,\"y\":119.0},{\"x\":318.0,\"y\":119.0},{\"x\":318.0,\"y\":157.0},{\"x\":159.0,\"y\":157.0}]},\"inferText\":\"와사비분(중국산),\",\"inferConfidence\":0.9942,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":316.0,\"y\":119.0},{\"x\":475.0,\"y\":119.0},{\"x\":475.0,\"y\":158.0},{\"x\":316.0,\"y\":158.0}]},\"inferText\":\"겨자분말(캐나다),\",\"inferConfidence\":0.9997,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":472.0,\"y\":122.0},{\"x\":570.0,\"y\":123.0},{\"x\":569.0,\"y\":158.0},{\"x\":472.0,\"y\":157.0}]},\"inferText\":\"곡류가공품\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":21.0,\"y\":166.0},{\"x\":42.0,\"y\":166.0},{\"x\":42.0,\"y\":194.0},{\"x\":21.0,\"y\":194.0}]},\"inferText\":\"및\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":158.0,\"y\":161.0},{\"x\":257.0,\"y\":161.0},{\"x\":257.0,\"y\":193.0},{\"x\":158.0,\"y\":193.0}]},\"inferText\":\"[옥수수100\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":253.0,\"y\":159.0},{\"x\":411.0,\"y\":159.0},{\"x\":411.0,\"y\":195.0},{\"x\":253.0,\"y\":195.0}]},\"inferText\":\"%:외국산(러시아,\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":410.0,\"y\":156.0},{\"x\":491.0,\"y\":156.0},{\"x\":491.0,\"y\":197.0},{\"x\":410.0,\"y\":197.0}]},\"inferText\":\"헝가리,\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":18.0,\"y\":200.0},{\"x\":62.0,\"y\":200.0},{\"x\":62.0,\"y\":234.0},{\"x\":18.0,\"y\":234.0}]},\"inferText\":\"함량\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":160.0,\"y\":194.0},{\"x\":254.0,\"y\":194.0},{\"x\":254.0,\"y\":233.0},{\"x\":160.0,\"y\":233.0}]},\"inferText\":\"세르비아\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":250.0,\"y\":197.0},{\"x\":295.0,\"y\":197.0},{\"x\":295.0,\"y\":233.0},{\"x\":250.0,\"y\":233.0}]},\"inferText\":\"등)],\",\"inferConfidence\":0.9858,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":291.0,\"y\":199.0},{\"x\":359.0,\"y\":199.0},{\"x\":359.0,\"y\":232.0},{\"x\":291.0,\"y\":232.0}]},\"inferText\":\"구연산,\",\"inferConfidence\":0.9974,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":357.0,\"y\":200.0},{\"x\":434.0,\"y\":200.0},{\"x\":434.0,\"y\":233.0},{\"x\":357.0,\"y\":233.0}]},\"inferText\":\"비타민C,\",\"inferConfidence\":0.9824,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":433.0,\"y\":199.0},{\"x\":576.0,\"y\":199.0},{\"x\":576.0,\"y\":233.0},{\"x\":433.0,\"y\":233.0}]},\"inferText\":\"식용색소황색4호\",\"inferConfidence\":0.9906,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":159.0,\"y\":229.0},{\"x\":236.0,\"y\":229.0},{\"x\":236.0,\"y\":262.0},{\"x\":159.0,\"y\":262.0}]},\"inferText\":\"(착색료),\",\"inferConfidence\":0.9822,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":236.0,\"y\":229.0},{\"x\":438.0,\"y\":229.0},{\"x\":438.0,\"y\":263.0},{\"x\":236.0,\"y\":263.0}]},\"inferText\":\"식용색소청색1호(착색료)\",\"inferConfidence\":0.9988,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":18.0,\"y\":267.0},{\"x\":143.0,\"y\":267.0},{\"x\":143.0,\"y\":303.0},{\"x\":18.0,\"y\":303.0}]},\"inferText\":\"용기(포장)재질\",\"inferConfidence\":0.9986,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":159.0,\"y\":269.0},{\"x\":303.0,\"y\":269.0},{\"x\":303.0,\"y\":303.0},{\"x\":159.0,\"y\":303.0}]},\"inferText\":\"폴리에틸렌(내면)\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":314.0,\"y\":269.0},{\"x\":429.0,\"y\":269.0},{\"x\":429.0,\"y\":303.0},{\"x\":314.0,\"y\":303.0}]},\"inferText\":\"품목보고번호\",\"inferConfidence\":0.9952,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":445.0,\"y\":272.0},{\"x\":586.0,\"y\":272.0},{\"x\":586.0,\"y\":301.0},{\"x\":445.0,\"y\":301.0}]},\"inferText\":\"2017020942599\",\"inferConfidence\":0.9997,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":21.0,\"y\":318.0},{\"x\":39.0,\"y\":318.0},{\"x\":39.0,\"y\":338.0},{\"x\":21.0,\"y\":338.0}]},\"inferText\":\"·\",\"inferConfidence\":0.9025,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":42.0,\"y\":313.0},{\"x\":65.0,\"y\":313.0},{\"x\":65.0,\"y\":342.0},{\"x\":42.0,\"y\":342.0}]},\"inferText\":\"본\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":64.0,\"y\":311.0},{\"x\":125.0,\"y\":311.0},{\"x\":125.0,\"y\":344.0},{\"x\":64.0,\"y\":344.0}]},\"inferText\":\"제품은\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":122.0,\"y\":312.0},{\"x\":171.0,\"y\":312.0},{\"x\":171.0,\"y\":344.0},{\"x\":122.0,\"y\":344.0}]},\"inferText\":\"난류,\",\"inferConfidence\":0.9925,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":168.0,\"y\":312.0},{\"x\":235.0,\"y\":312.0},{\"x\":235.0,\"y\":344.0},{\"x\":168.0,\"y\":344.0}]},\"inferText\":\"닭고기,\",\"inferConfidence\":0.9996,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":231.0,\"y\":312.0},{\"x\":281.0,\"y\":312.0},{\"x\":281.0,\"y\":346.0},{\"x\":231.0,\"y\":346.0}]},\"inferText\":\"대두,\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":277.0,\"y\":312.0},{\"x\":361.0,\"y\":312.0},{\"x\":361.0,\"y\":345.0},{\"x\":277.0,\"y\":345.0}]},\"inferText\":\"돼지고기,\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":359.0,\"y\":312.0},{\"x\":579.0,\"y\":313.0},{\"x\":579.0,\"y\":346.0},{\"x\":359.0,\"y\":345.0}]},\"inferText\":\"메밀,밀,쇠고기,아황산류,\",\"inferConfidence\":0.9796,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":38.0,\"y\":339.0},{\"x\":85.0,\"y\":339.0},{\"x\":85.0,\"y\":371.0},{\"x\":38.0,\"y\":371.0}]},\"inferText\":\"우유,\",\"inferConfidence\":0.9997,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":82.0,\"y\":340.0},{\"x\":166.0,\"y\":340.0},{\"x\":166.0,\"y\":372.0},{\"x\":82.0,\"y\":372.0}]},\"inferText\":\"조개류(굴\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":163.0,\"y\":339.0},{\"x\":216.0,\"y\":339.0},{\"x\":216.0,\"y\":372.0},{\"x\":163.0,\"y\":372.0}]},\"inferText\":\"포함),\",\"inferConfidence\":0.9898,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":214.0,\"y\":340.0},{\"x\":292.0,\"y\":340.0},{\"x\":292.0,\"y\":372.0},{\"x\":214.0,\"y\":372.0}]},\"inferText\":\"토마토를\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":290.0,\"y\":340.0},{\"x\":351.0,\"y\":340.0},{\"x\":351.0,\"y\":372.0},{\"x\":290.0,\"y\":372.0}]},\"inferText\":\"사용한\",\"inferConfidence\":0.9994,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":349.0,\"y\":340.0},{\"x\":410.0,\"y\":340.0},{\"x\":410.0,\"y\":372.0},{\"x\":349.0,\"y\":372.0}]},\"inferText\":\"제품과\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":408.0,\"y\":340.0},{\"x\":452.0,\"y\":340.0},{\"x\":452.0,\"y\":373.0},{\"x\":408.0,\"y\":373.0}]},\"inferText\":\"같은\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":449.0,\"y\":340.0},{\"x\":561.0,\"y\":340.0},{\"x\":561.0,\"y\":373.0},{\"x\":449.0,\"y\":373.0}]},\"inferText\":\"제조시설에서\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":37.0,\"y\":366.0},{\"x\":114.0,\"y\":366.0},{\"x\":114.0,\"y\":398.0},{\"x\":37.0,\"y\":398.0}]},\"inferText\":\"제조하고\",\"inferConfidence\":0.9994,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":112.0,\"y\":366.0},{\"x\":194.0,\"y\":366.0},{\"x\":194.0,\"y\":399.0},{\"x\":112.0,\"y\":399.0}]},\"inferText\":\"있습니다.\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":21.0,\"y\":398.0},{\"x\":41.0,\"y\":398.0},{\"x\":41.0,\"y\":419.0},{\"x\":21.0,\"y\":419.0}]},\"inferText\":\"·\",\"inferConfidence\":0.947,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":42.0,\"y\":395.0},{\"x\":66.0,\"y\":395.0},{\"x\":66.0,\"y\":424.0},{\"x\":42.0,\"y\":424.0}]},\"inferText\":\"본\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":64.0,\"y\":393.0},{\"x\":125.0,\"y\":393.0},{\"x\":125.0,\"y\":425.0},{\"x\":64.0,\"y\":425.0}]},\"inferText\":\"제품은\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":123.0,\"y\":394.0},{\"x\":252.0,\"y\":394.0},{\"x\":252.0,\"y\":426.0},{\"x\":123.0,\"y\":426.0}]},\"inferText\":\"공정거래위원회\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":250.0,\"y\":395.0},{\"x\":293.0,\"y\":395.0},{\"x\":293.0,\"y\":426.0},{\"x\":250.0,\"y\":426.0}]},\"inferText\":\"고시\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":291.0,\"y\":395.0},{\"x\":352.0,\"y\":395.0},{\"x\":352.0,\"y\":426.0},{\"x\":291.0,\"y\":426.0}]},\"inferText\":\"소비자\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":350.0,\"y\":395.0},{\"x\":479.0,\"y\":395.0},{\"x\":479.0,\"y\":427.0},{\"x\":350.0,\"y\":427.0}]},\"inferText\":\"분쟁해결기준에\",\"inferConfidence\":0.9982,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":478.0,\"y\":395.0},{\"x\":521.0,\"y\":395.0},{\"x\":521.0,\"y\":428.0},{\"x\":478.0,\"y\":428.0}]},\"inferText\":\"의거\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":519.0,\"y\":395.0},{\"x\":563.0,\"y\":395.0},{\"x\":563.0,\"y\":426.0},{\"x\":519.0,\"y\":426.0}]},\"inferText\":\"교환\",\"inferConfidence\":0.9972,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":38.0,\"y\":422.0},{\"x\":80.0,\"y\":422.0},{\"x\":80.0,\"y\":452.0},{\"x\":38.0,\"y\":452.0}]},\"inferText\":\"또는\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":79.0,\"y\":421.0},{\"x\":156.0,\"y\":421.0},{\"x\":156.0,\"y\":453.0},{\"x\":79.0,\"y\":453.0}]},\"inferText\":\"보상받을\",\"inferConfidence\":0.9932,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":155.0,\"y\":423.0},{\"x\":179.0,\"y\":423.0},{\"x\":179.0,\"y\":451.0},{\"x\":155.0,\"y\":451.0}]},\"inferText\":\"수\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":177.0,\"y\":421.0},{\"x\":259.0,\"y\":421.0},{\"x\":259.0,\"y\":453.0},{\"x\":177.0,\"y\":453.0}]},\"inferText\":\"있습니다.\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":23.0,\"y\":453.0},{\"x\":39.0,\"y\":453.0},{\"x\":39.0,\"y\":472.0},{\"x\":23.0,\"y\":472.0}]},\"inferText\":\"·\",\"inferConfidence\":0.7656,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":36.0,\"y\":448.0},{\"x\":148.0,\"y\":448.0},{\"x\":148.0,\"y\":479.0},{\"x\":36.0,\"y\":479.0}]},\"inferText\":\"유통 중 변질.\",\"inferConfidence\":0.9219,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":146.0,\"y\":448.0},{\"x\":206.0,\"y\":448.0},{\"x\":206.0,\"y\":479.0},{\"x\":146.0,\"y\":479.0}]},\"inferText\":\"손상된\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":204.0,\"y\":447.0},{\"x\":265.0,\"y\":447.0},{\"x\":265.0,\"y\":479.0},{\"x\":204.0,\"y\":479.0}]},\"inferText\":\"제품은\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":262.0,\"y\":448.0},{\"x\":306.0,\"y\":448.0},{\"x\":306.0,\"y\":479.0},{\"x\":262.0,\"y\":479.0}]},\"inferText\":\"본사\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":303.0,\"y\":449.0},{\"x\":347.0,\"y\":449.0},{\"x\":347.0,\"y\":478.0},{\"x\":303.0,\"y\":478.0}]},\"inferText\":\"또는\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":346.0,\"y\":448.0},{\"x\":438.0,\"y\":448.0},{\"x\":438.0,\"y\":478.0},{\"x\":346.0,\"y\":478.0}]},\"inferText\":\"구입처에서\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":438.0,\"y\":448.0},{\"x\":571.0,\"y\":448.0},{\"x\":571.0,\"y\":479.0},{\"x\":438.0,\"y\":479.0}]},\"inferText\":\"교환해드립니다.\",\"inferConfidence\":0.999,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":25.0,\"y\":482.0},{\"x\":40.0,\"y\":482.0},{\"x\":40.0,\"y\":499.0},{\"x\":25.0,\"y\":499.0}]},\"inferText\":\"·\",\"inferConfidence\":0.7474,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":44.0,\"y\":476.0},{\"x\":167.0,\"y\":474.0},{\"x\":167.0,\"y\":504.0},{\"x\":45.0,\"y\":506.0}]},\"inferText\":\"소비자상담실:\",\"inferConfidence\":0.9996,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":163.0,\"y\":475.0},{\"x\":296.0,\"y\":475.0},{\"x\":296.0,\"y\":502.0},{\"x\":163.0,\"y\":502.0}]},\"inferText\":\"(032)550-2700\",\"inferConfidence\":0.9992,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":28.0,\"y\":508.0},{\"x\":39.0,\"y\":508.0},{\"x\":39.0,\"y\":522.0},{\"x\":28.0,\"y\":522.0}]},\"inferText\":\"·\",\"inferConfidence\":0.6975,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":46.0,\"y\":501.0},{\"x\":98.0,\"y\":501.0},{\"x\":98.0,\"y\":528.0},{\"x\":46.0,\"y\":528.0}]},\"inferText\":\"부정·\",\"inferConfidence\":0.9768,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":96.0,\"y\":499.0},{\"x\":223.0,\"y\":499.0},{\"x\":223.0,\"y\":528.0},{\"x\":96.0,\"y\":528.0}]},\"inferText\":\"불량식품신고는\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":224.0,\"y\":499.0},{\"x\":299.0,\"y\":499.0},{\"x\":299.0,\"y\":527.0},{\"x\":224.0,\"y\":527.0}]},\"inferText\":\"국번없이\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":298.0,\"y\":500.0},{\"x\":343.0,\"y\":500.0},{\"x\":343.0,\"y\":522.0},{\"x\":298.0,\"y\":522.0}]},\"inferText\":\"1399\",\"inferConfidence\":0.9997,\"type\":\"NORMAL\",\"lineBreak\":true}]}],\"originalFileName\":\"KakaoTalk_20240924_103821905_02\",\"imageType\":\"jpg\"}";

			processedText = parseJson(ocrResponse); // 응답 텍스트 전처리
            // 결과 출력
            System.out.println("추출된 원재료명: " + processedText);
		} catch (Exception e) {
			e.printStackTrace();
		}
	}

	public List<String> parseJson(String response) {
		//json 파싱
		Gson gson = new Gson();
		JsonObject jObj = gson.fromJson(response, JsonObject.class); // 테스트용

		//images 배열 -> obj 화
		JsonArray jArray = (JsonArray) jObj.get("images");
		JsonObject JSONObjImage = (JsonObject) jArray.get(0);
		JsonArray s = (JsonArray) JSONObjImage.get("fields");

		List<Map<String, Object>> m = JsonUtil.getListMapFromJsonArray(s);
		List<String> textList = new ArrayList<>();
		List<Double> startCoords = new ArrayList<>(); // vertices 리스트 추가
		List<Double> endCoords = new ArrayList<>(); // vertices 리스트 추가

		for (Map<String, Object> as : m) {
            textList.add((String) as.get("inferText"));

			// "boundingPoly"에서 "vertices"의 첫 번째 값을 추출
			Map<String, Object> boundingPoly = (Map<String, Object>) as.get("boundingPoly");
			List<Map<String, Object>> vertices = (List<Map<String, Object>>) boundingPoly.get("vertices");

			if (vertices != null && !vertices.isEmpty()) {
				Map<String, Object> vertex1 = vertices.get(0);
				double x = (double) vertex1.get("x");

				// 첫 번째 vertex의 x 값을 저장
                startCoords.add(x);

				Map<String, Object> vertex2 = vertices.get(1);
				x = (double) vertex2.get("x");

				// 두 번째 vertex의 x 값을 저장
                endCoords.add(x);
			}
		}

		return extractIngredients(textList, startCoords, endCoords);
	}

    // 원재료명 추출 메소드
    public static List<String> extractIngredients(List<String> textList, List<Double> startCoordinates, List<Double> endCoordinates) {
        int lineIndex = 0;  // 줄을 나타내는 변수
        double previousEndCoordinate = 0.0;  // 이전 종료 좌표

        List<String> ingredientList = new ArrayList<>();
        List<String> tempIngredientList = new ArrayList<>();  // 임시 원재료 리스트
        StringBuilder ingredient = new StringBuilder();
        boolean isExtractingIngredients = false;

        for (int index = 0; index < textList.size(); index++) {
            String text = textList.get(index);
            double startCoordinate = startCoordinates.get(index);
            double endCoordinate = endCoordinates.get(index);

            // 1. 새로운 줄 여부 확인 (이전 종료 좌표보다 시작 좌표가 작을 경우)
            if (startCoordinate < previousEndCoordinate - ERROR_MARGIN) {
                lineIndex++;  // 새로운 줄로 간주
                if (ingredient.length() > 0) {
                    tempIngredientList.add(ingredient.toString().trim());
                    ingredient.setLength(0);  // 원재료 초기화
                }
            }

            // 2. "원재료" 또는 "원료" 키워드 확인
            if (!isExtractingIngredients && isKeyword(text)) {
                if (!tempIngredientList.isEmpty()) {
                    ingredientList.addAll(tempIngredientList);  // 임시 원재료 리스트 추가
                    tempIngredientList.clear();  // 임시 원재료 리스트 초기화
                }
                isExtractingIngredients = true;
                continue;  // 키워드 자체는 저장하지 않고 넘어감
            }

            // 3. 원재료 추출 중이면 텍스트 추가
            if (isExtractingIngredients) {
                ingredient.append(text).append(" ");

                // 원재료 추출 종료 조건: 알레르기 원재료, "함유" 또는 다른 키워드가 나올 때 종료
                if (isAllergyOnlyLine(text) || isKeyword(text)) {
                    ingredientList.add(ingredient.toString().trim());
                    ingredient.setLength(0);  // 초기화
                    isExtractingIngredients = false;  // 추출 종료
                }
            } else {
                // 5-1. 다른 키워드가 나오지 않으면 임시 원재료 리스트에 저장
                if (!isKeyword(text)) {
                    ingredient.append(text).append(" ");
                    if (text.endsWith(",") || text.endsWith(")")) {
                        tempIngredientList.add(ingredient.toString().trim());
                        ingredient.setLength(0);  // 초기화
                    }
                }
            }

            previousEndCoordinate = endCoordinate;  // 종료 좌표 갱신
        }

        // 마지막 원재료 추가
        if (ingredient.length() > 0) {
            tempIngredientList.add(ingredient.toString().trim());
        }

        // 임시 원재료 리스트가 비어 있지 않으면 마지막으로 추가
        if (!tempIngredientList.isEmpty()) {
            ingredientList.addAll(tempIngredientList);
        }

        return ingredientList;
    }

    // 키워드 확인 메서드
    private static boolean isKeyword(String text) {
        for (String keyword : keywords) {
            if (text.contains(keyword)) {
                return true;
            }
        }
        return false;
    }

    // 특수 문자 확인 메서드
    private static boolean containsSpecialCharacter(String text) {
        return SPECIAL_CHAR_PATTERN.matcher(text).find();
    }

    // 알레르기 원재료 확인 메서드
    private static boolean isAllergyIngredient(String text) {
        for (String allergy : allergyIngredients) {
            if (text.contains(allergy)) {
                return true;
            }
        }
        return false;
    }

    // 알레르기 원재료로만 구성된 줄인지 확인
    private static boolean isAllergyOnlyLine(String text) {
        return text.contains("함유") || isAllergyIngredient(text);
    }
}