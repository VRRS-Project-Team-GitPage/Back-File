package com.shinhan.VRRS.controller;

import com.shinhan.VRRS.dto.*;
import com.shinhan.VRRS.entity.Product;
import com.shinhan.VRRS.service.ProductService;
import com.shinhan.VRRS.service.RecommendationService;
import com.shinhan.VRRS.service.readingService.IngredientService;
import com.shinhan.VRRS.service.readingService.OcrService;
import com.shinhan.VRRS.util.IngredientUtil;
import lombok.RequiredArgsConstructor;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.multipart.MultipartFile;

import java.util.Collections;
import java.util.List;

@RestController
@RequiredArgsConstructor
public class IngredientCotroller {
    private final OcrService ocrService;
    private final ProductService productService;
    private final IngredientService ingredientService;
    private final RecommendationService recommendationService;

    @PostMapping("/ocr")
    public ResponseEntity<OcrResponse> callOcr(@RequestParam("file") MultipartFile file) {
        OcrResponse processedText = new OcrResponse();
        try {
//            StringBuffer ocrResponse = ocrService.callOcr(file); // 클로바 OCR API 호출

            // 테스트용 코드
//            String ocrResponse = "{\"version\":\"V2\",\"requestId\":\"ea1d8876-54d8-47b9-bf18-1c2add3d7248\",\"timestamp\":1726109194149,\"images\":[{\"uid\":\"13a9d07d82714105992661b704187045\",\"name\":\"demo\",\"inferResult\":\"SUCCESS\",\"message\":\"SUCCESS\",\"validationResult\":{\"result\":\"NO_REQUESTED\"},\"convertedImageInfo\":{\"width\":773,\"height\":878,\"pageIndex\":0,\"longImage\":false},\"fields\":[{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":38.0,\"y\":12.0},{\"x\":175.0,\"y\":15.0},{\"x\":174.0,\"y\":68.0},{\"x\":37.0,\"y\":65.0}]},\"inferText\":\"원재료명\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":230.0,\"y\":8.0},{\"x\":710.0,\"y\":-1.0},{\"x\":711.0,\"y\":63.0},{\"x\":231.0,\"y\":71.0}]},\"inferText\":\"면/쌀가루(국내산),감자전분(국내산),\",\"inferConfidence\":0.9927,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":231.0,\"y\":59.0},{\"x\":507.0,\"y\":52.0},{\"x\":508.0,\"y\":113.0},{\"x\":232.0,\"y\":120.0}]},\"inferText\":\"팜유(말레이시아산),\",\"inferConfidence\":0.9962,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":504.0,\"y\":60.0},{\"x\":624.0,\"y\":56.0},{\"x\":625.0,\"y\":108.0},{\"x\":505.0,\"y\":112.0}]},\"inferText\":\"변성전분,\",\"inferConfidence\":0.9997,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":621.0,\"y\":54.0},{\"x\":713.0,\"y\":54.0},{\"x\":713.0,\"y\":105.0},{\"x\":621.0,\"y\":105.0}]},\"inferText\":\"글루텐,\",\"inferConfidence\":0.9992,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":234.0,\"y\":111.0},{\"x\":396.0,\"y\":111.0},{\"x\":396.0,\"y\":163.0},{\"x\":234.0,\"y\":163.0}]},\"inferText\":\"태움.용융소금,\",\"inferConfidence\":0.9916,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":390.0,\"y\":107.0},{\"x\":510.0,\"y\":107.0},{\"x\":510.0,\"y\":159.0},{\"x\":390.0,\"y\":159.0}]},\"inferText\":\"감미유-R,\",\"inferConfidence\":0.9983,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":502.0,\"y\":109.0},{\"x\":638.0,\"y\":102.0},{\"x\":641.0,\"y\":153.0},{\"x\":504.0,\"y\":160.0}]},\"inferText\":\"산도조절제,\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":633.0,\"y\":102.0},{\"x\":719.0,\"y\":102.0},{\"x\":719.0,\"y\":153.0},{\"x\":633.0,\"y\":153.0}]},\"inferText\":\"구아검,\",\"inferConfidence\":0.9983,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":233.0,\"y\":159.0},{\"x\":719.0,\"y\":147.0},{\"x\":720.0,\"y\":202.0},{\"x\":235.0,\"y\":213.0}]},\"inferText\":\"면류첨가알칼리제(탄산칼륨,탄산나트륨,피로\",\"inferConfidence\":0.9928,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":234.0,\"y\":209.0},{\"x\":382.0,\"y\":206.0},{\"x\":383.0,\"y\":258.0},{\"x\":235.0,\"y\":261.0}]},\"inferText\":\"인산나트륨),\",\"inferConfidence\":0.994,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":381.0,\"y\":205.0},{\"x\":502.0,\"y\":205.0},{\"x\":502.0,\"y\":258.0},{\"x\":381.0,\"y\":258.0}]},\"inferText\":\"비타민B2\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":230.0,\"y\":245.0},{\"x\":481.0,\"y\":245.0},{\"x\":481.0,\"y\":307.0},{\"x\":230.0,\"y\":307.0}]},\"inferText\":\"짜장소스/양파(국내산),\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":475.0,\"y\":247.0},{\"x\":558.0,\"y\":247.0},{\"x\":558.0,\"y\":303.0},{\"x\":475.0,\"y\":303.0}]},\"inferText\":\"정제수,\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":549.0,\"y\":241.0},{\"x\":734.0,\"y\":236.0},{\"x\":736.0,\"y\":297.0},{\"x\":551.0,\"y\":302.0}]},\"inferText\":\"춘장[밀(국내산),\",\"inferConfidence\":0.9979,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":233.0,\"y\":297.0},{\"x\":392.0,\"y\":297.0},{\"x\":392.0,\"y\":356.0},{\"x\":233.0,\"y\":356.0}]},\"inferText\":\"대두(국내산),\",\"inferConfidence\":0.9962,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":383.0,\"y\":301.0},{\"x\":560.0,\"y\":298.0},{\"x\":561.0,\"y\":352.0},{\"x\":384.0,\"y\":354.0}]},\"inferText\":\"식염, 주정, 종국],\",\"inferConfidence\":0.9558,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":551.0,\"y\":290.0},{\"x\":737.0,\"y\":286.0},{\"x\":739.0,\"y\":349.0},{\"x\":552.0,\"y\":353.0}]},\"inferText\":\"양배추(국내산),\",\"inferConfidence\":0.9988,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":231.0,\"y\":346.0},{\"x\":411.0,\"y\":343.0},{\"x\":412.0,\"y\":406.0},{\"x\":232.0,\"y\":409.0}]},\"inferText\":\"감자(국내산),\",\"inferConfidence\":0.9943,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":406.0,\"y\":350.0},{\"x\":652.0,\"y\":348.0},{\"x\":653.0,\"y\":400.0},{\"x\":406.0,\"y\":403.0}]},\"inferText\":\"우마미베이스비-115,\",\"inferConfidence\":0.9958,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":648.0,\"y\":345.0},{\"x\":739.0,\"y\":345.0},{\"x\":739.0,\"y\":398.0},{\"x\":648.0,\"y\":398.0}]},\"inferText\":\"백설탕,\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":233.0,\"y\":401.0},{\"x\":330.0,\"y\":401.0},{\"x\":330.0,\"y\":458.0},{\"x\":233.0,\"y\":458.0}]},\"inferText\":\"현미유,\",\"inferConfidence\":0.9943,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":324.0,\"y\":400.0},{\"x\":445.0,\"y\":400.0},{\"x\":445.0,\"y\":456.0},{\"x\":324.0,\"y\":456.0}]},\"inferText\":\"돼지고기,\",\"inferConfidence\":0.9996,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":442.0,\"y\":398.0},{\"x\":599.0,\"y\":398.0},{\"x\":599.0,\"y\":452.0},{\"x\":442.0,\"y\":452.0}]},\"inferText\":\"조미돈지-P,\",\"inferConfidence\":0.994,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":595.0,\"y\":395.0},{\"x\":743.0,\"y\":395.0},{\"x\":743.0,\"y\":452.0},{\"x\":595.0,\"y\":452.0}]},\"inferText\":\"두류가공품,\",\"inferConfidence\":0.9995,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":231.0,\"y\":453.0},{\"x\":345.0,\"y\":453.0},{\"x\":345.0,\"y\":508.0},{\"x\":231.0,\"y\":508.0}]},\"inferText\":\"변성전분,\",\"inferConfidence\":0.9997,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":338.0,\"y\":452.0},{\"x\":452.0,\"y\":452.0},{\"x\":452.0,\"y\":507.0},{\"x\":338.0,\"y\":507.0}]},\"inferText\":\"정제소금,\",\"inferConfidence\":0.9997,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":444.0,\"y\":449.0},{\"x\":582.0,\"y\":449.0},{\"x\":582.0,\"y\":505.0},{\"x\":444.0,\"y\":505.0}]},\"inferText\":\"당류가공품,\",\"inferConfidence\":0.9991,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":575.0,\"y\":449.0},{\"x\":737.0,\"y\":446.0},{\"x\":738.0,\"y\":502.0},{\"x\":577.0,\"y\":505.0}]},\"inferText\":\"조미오일(채종\",\"inferConfidence\":0.9993,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":228.0,\"y\":506.0},{\"x\":431.0,\"y\":501.0},{\"x\":433.0,\"y\":559.0},{\"x\":229.0,\"y\":564.0}]},\"inferText\":\"유,건양따,컨마늘),\",\"inferConfidence\":0.9717,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":426.0,\"y\":495.0},{\"x\":607.0,\"y\":493.0},{\"x\":608.0,\"y\":559.0},{\"x\":427.0,\"y\":561.0}]},\"inferText\":\"마늘(국내산),\",\"inferConfidence\":0.9932,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":601.0,\"y\":499.0},{\"x\":740.0,\"y\":499.0},{\"x\":740.0,\"y\":557.0},{\"x\":601.0,\"y\":557.0}]},\"inferText\":\"파기름(대두\",\"inferConfidence\":0.9996,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":231.0,\"y\":561.0},{\"x\":277.0,\"y\":561.0},{\"x\":277.0,\"y\":614.0},{\"x\":231.0,\"y\":614.0}]},\"inferText\":\"유,\",\"inferConfidence\":0.9975,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":272.0,\"y\":557.0},{\"x\":347.0,\"y\":557.0},{\"x\":347.0,\"y\":615.0},{\"x\":272.0,\"y\":615.0}]},\"inferText\":\"대파,\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":342.0,\"y\":555.0},{\"x\":422.0,\"y\":554.0},{\"x\":423.0,\"y\":612.0},{\"x\":343.0,\"y\":614.0}]},\"inferText\":\"생강),\",\"inferConfidence\":0.9873,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":420.0,\"y\":554.0},{\"x\":749.0,\"y\":552.0},{\"x\":750.0,\"y\":608.0},{\"x\":420.0,\"y\":611.0}]},\"inferText\":\"로스티드오니온후레바오일,\",\"inferConfidence\":0.9892,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":228.0,\"y\":604.0},{\"x\":420.0,\"y\":600.0},{\"x\":421.0,\"y\":670.0},{\"x\":229.0,\"y\":673.0}]},\"inferText\":\"생강(국내산),\",\"inferConfidence\":0.9949,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":416.0,\"y\":605.0},{\"x\":516.0,\"y\":605.0},{\"x\":516.0,\"y\":666.0},{\"x\":416.0,\"y\":666.0}]},\"inferText\":\"흑후추,\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":507.0,\"y\":599.0},{\"x\":756.0,\"y\":596.0},{\"x\":757.0,\"y\":666.0},{\"x\":508.0,\"y\":668.0}]},\"inferText\":\"수수분말(국내산)\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":230.0,\"y\":680.0},{\"x\":272.0,\"y\":680.0},{\"x\":272.0,\"y\":733.0},{\"x\":230.0,\"y\":733.0}]},\"inferText\":\"밀,\",\"inferConfidence\":0.9943,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":265.0,\"y\":677.0},{\"x\":337.0,\"y\":677.0},{\"x\":337.0,\"y\":737.0},{\"x\":265.0,\"y\":737.0}]},\"inferText\":\"대두,\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":327.0,\"y\":674.0},{\"x\":447.0,\"y\":671.0},{\"x\":448.0,\"y\":732.0},{\"x\":328.0,\"y\":734.0}]},\"inferText\":\"돼지고기,\",\"inferConfidence\":0.9988,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":439.0,\"y\":670.0},{\"x\":620.0,\"y\":669.0},{\"x\":620.0,\"y\":731.0},{\"x\":439.0,\"y\":732.0}]},\"inferText\":\"조개류(바지락),\",\"inferConfidence\":0.9987,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":613.0,\"y\":669.0},{\"x\":702.0,\"y\":669.0},{\"x\":702.0,\"y\":731.0},{\"x\":613.0,\"y\":731.0}]},\"inferText\":\"쇠고기\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":693.0,\"y\":667.0},{\"x\":756.0,\"y\":667.0},{\"x\":756.0,\"y\":727.0},{\"x\":693.0,\"y\":727.0}]},\"inferText\":\"함유\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":15.0,\"y\":749.0},{\"x\":111.0,\"y\":749.0},{\"x\":111.0,\"y\":807.0},{\"x\":15.0,\"y\":807.0}]},\"inferText\":\"성분명\",\"inferConfidence\":0.9985,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":111.0,\"y\":754.0},{\"x\":141.0,\"y\":754.0},{\"x\":141.0,\"y\":804.0},{\"x\":111.0,\"y\":804.0}]},\"inferText\":\"및\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":138.0,\"y\":747.0},{\"x\":205.0,\"y\":747.0},{\"x\":205.0,\"y\":810.0},{\"x\":138.0,\"y\":810.0}]},\"inferText\":\"함량\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":218.0,\"y\":746.0},{\"x\":280.0,\"y\":746.0},{\"x\":280.0,\"y\":816.0},{\"x\":218.0,\"y\":816.0}]},\"inferText\":\"면중\",\"inferConfidence\":0.9913,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":268.0,\"y\":744.0},{\"x\":520.0,\"y\":744.0},{\"x\":520.0,\"y\":816.0},{\"x\":268.0,\"y\":816.0}]},\"inferText\":\"쌀가루(국내산)30.11%,\",\"inferConfidence\":0.9969,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":508.0,\"y\":741.0},{\"x\":769.0,\"y\":740.0},{\"x\":769.0,\"y\":809.0},{\"x\":509.0,\"y\":811.0}]},\"inferText\":\"감자전분(국내산)19.99%\",\"inferConfidence\":0.9994,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":218.0,\"y\":808.0},{\"x\":328.0,\"y\":808.0},{\"x\":328.0,\"y\":876.0},{\"x\":218.0,\"y\":876.0}]},\"inferText\":\"짜장소스\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":323.0,\"y\":814.0},{\"x\":356.0,\"y\":814.0},{\"x\":356.0,\"y\":869.0},{\"x\":323.0,\"y\":869.0}]},\"inferText\":\"중\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":350.0,\"y\":805.0},{\"x\":418.0,\"y\":805.0},{\"x\":418.0,\"y\":873.0},{\"x\":350.0,\"y\":873.0}]},\"inferText\":\"춘장\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":406.0,\"y\":803.0},{\"x\":623.0,\"y\":803.0},{\"x\":623.0,\"y\":872.0},{\"x\":406.0,\"y\":872.0}]},\"inferText\":\"10.1%[밀(국내산),\",\"inferConfidence\":0.9877,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":611.0,\"y\":802.0},{\"x\":772.0,\"y\":792.0},{\"x\":776.0,\"y\":865.0},{\"x\":616.0,\"y\":875.0}]},\"inferText\":\"대두(국내산)]\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":true}]}]}";
            String ocrResponse = "{\"version\":\"V2\",\"requestId\":\"316d34ac-e93b-4087-a6fb-f748fb7afb7f\",\"timestamp\":1727453270311,\"images\":[{\"uid\":\"ca371e2787b94317b06c1cc4c91c19af\",\"name\":\"demo\",\"inferResult\":\"SUCCESS\",\"message\":\"SUCCESS\",\"validationResult\":{\"result\":\"NO_REQUESTED\"},\"convertedImageInfo\":{\"width\":828,\"height\":867,\"pageIndex\":0,\"longImage\":false},\"fields\":[{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":57.0,\"y\":30.0},{\"x\":136.0,\"y\":30.0},{\"x\":136.0,\"y\":89.0},{\"x\":57.0,\"y\":89.0}]},\"inferText\":\"제품명\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":141.0,\"y\":32.0},{\"x\":221.0,\"y\":32.0},{\"x\":221.0,\"y\":88.0},{\"x\":141.0,\"y\":88.0}]},\"inferText\":\"연두부\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":224.0,\"y\":34.0},{\"x\":325.0,\"y\":34.0},{\"x\":325.0,\"y\":89.0},{\"x\":224.0,\"y\":89.0}]},\"inferText\":\"유통기한\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":329.0,\"y\":34.0},{\"x\":491.0,\"y\":36.0},{\"x\":491.0,\"y\":90.0},{\"x\":329.0,\"y\":89.0}]},\"inferText\":\"전면표기일까지\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":496.0,\"y\":34.0},{\"x\":637.0,\"y\":34.0},{\"x\":637.0,\"y\":87.0},{\"x\":496.0,\"y\":87.0}]},\"inferText\":\"품목보고번호\",\"inferConfidence\":0.9985,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":642.0,\"y\":38.0},{\"x\":801.0,\"y\":38.0},{\"x\":801.0,\"y\":84.0},{\"x\":642.0,\"y\":84.0}]},\"inferText\":\"201004660704\",\"inferConfidence\":0.9997,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":59.0,\"y\":95.0},{\"x\":165.0,\"y\":95.0},{\"x\":165.0,\"y\":151.0},{\"x\":59.0,\"y\":151.0}]},\"inferText\":\"업소명 및\",\"inferConfidence\":0.9991,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":156.0,\"y\":95.0},{\"x\":235.0,\"y\":95.0},{\"x\":235.0,\"y\":152.0},{\"x\":156.0,\"y\":152.0}]},\"inferText\":\"소재지\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":232.0,\"y\":94.0},{\"x\":368.0,\"y\":94.0},{\"x\":368.0,\"y\":155.0},{\"x\":232.0,\"y\":155.0}]},\"inferText\":\"(주)아워홈\",\"inferConfidence\":0.9989,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":365.0,\"y\":95.0},{\"x\":471.0,\"y\":95.0},{\"x\":471.0,\"y\":152.0},{\"x\":365.0,\"y\":152.0}]},\"inferText\":\"충청남도\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":464.0,\"y\":97.0},{\"x\":546.0,\"y\":97.0},{\"x\":546.0,\"y\":151.0},{\"x\":464.0,\"y\":151.0}]},\"inferText\":\"계룡시\",\"inferConfidence\":0.9988,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":540.0,\"y\":96.0},{\"x\":622.0,\"y\":96.0},{\"x\":622.0,\"y\":150.0},{\"x\":540.0,\"y\":150.0}]},\"inferText\":\"두마면\",\"inferConfidence\":0.9997,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":616.0,\"y\":97.0},{\"x\":730.0,\"y\":97.0},{\"x\":730.0,\"y\":150.0},{\"x\":616.0,\"y\":150.0}]},\"inferText\":\"제1산단로\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":723.0,\"y\":101.0},{\"x\":799.0,\"y\":101.0},{\"x\":799.0,\"y\":146.0},{\"x\":723.0,\"y\":146.0}]},\"inferText\":\"26-21\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":81.0,\"y\":159.0},{\"x\":237.0,\"y\":159.0},{\"x\":237.0,\"y\":216.0},{\"x\":81.0,\"y\":216.0}]},\"inferText\":\"포장재질(내면)\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":261.0,\"y\":167.0},{\"x\":360.0,\"y\":167.0},{\"x\":360.0,\"y\":225.0},{\"x\":261.0,\"y\":225.0}]},\"inferText\":\"원재료명\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":362.0,\"y\":163.0},{\"x\":496.0,\"y\":163.0},{\"x\":496.0,\"y\":218.0},{\"x\":362.0,\"y\":218.0}]},\"inferText\":\"대두(외국산:\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":489.0,\"y\":164.0},{\"x\":662.0,\"y\":164.0},{\"x\":662.0,\"y\":218.0},{\"x\":489.0,\"y\":218.0}]},\"inferText\":\"미국,캐나다,호주\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":656.0,\"y\":166.0},{\"x\":697.0,\"y\":166.0},{\"x\":697.0,\"y\":216.0},{\"x\":656.0,\"y\":216.0}]},\"inferText\":\"등)\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":691.0,\"y\":166.0},{\"x\":741.0,\"y\":166.0},{\"x\":741.0,\"y\":215.0},{\"x\":691.0,\"y\":215.0}]},\"inferText\":\"100\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":732.0,\"y\":166.0},{\"x\":792.0,\"y\":166.0},{\"x\":792.0,\"y\":218.0},{\"x\":732.0,\"y\":218.0}]},\"inferText\":\"%,글\",\"inferConfidence\":0.9956,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":59.0,\"y\":221.0},{\"x\":258.0,\"y\":222.0},{\"x\":258.0,\"y\":277.0},{\"x\":59.0,\"y\":276.0}]},\"inferText\":\"리드지-폴리에틸렌,\",\"inferConfidence\":0.9988,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":297.0,\"y\":221.0},{\"x\":326.0,\"y\":221.0},{\"x\":326.0,\"y\":266.0},{\"x\":297.0,\"y\":266.0}]},\"inferText\":\"및\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":361.0,\"y\":217.0},{\"x\":527.0,\"y\":217.0},{\"x\":527.0,\"y\":270.0},{\"x\":361.0,\"y\":270.0}]},\"inferText\":\"루코노델타락톤,\",\"inferConfidence\":0.9983,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":519.0,\"y\":216.0},{\"x\":645.0,\"y\":216.0},{\"x\":645.0,\"y\":271.0},{\"x\":519.0,\"y\":271.0}]},\"inferText\":\"식물성유지,\",\"inferConfidence\":0.9697,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":638.0,\"y\":216.0},{\"x\":799.0,\"y\":216.0},{\"x\":799.0,\"y\":270.0},{\"x\":638.0,\"y\":270.0}]},\"inferText\":\"글리세린지방산\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":57.0,\"y\":268.0},{\"x\":253.0,\"y\":268.0},{\"x\":253.0,\"y\":323.0},{\"x\":57.0,\"y\":323.0}]},\"inferText\":\"용기-폴리프로필렌\",\"inferConfidence\":0.9997,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":280.0,\"y\":262.0},{\"x\":340.0,\"y\":262.0},{\"x\":340.0,\"y\":318.0},{\"x\":280.0,\"y\":318.0}]},\"inferText\":\"함량\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":360.0,\"y\":269.0},{\"x\":464.0,\"y\":269.0},{\"x\":464.0,\"y\":323.0},{\"x\":360.0,\"y\":323.0}]},\"inferText\":\"에스테르,\",\"inferConfidence\":0.9982,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":457.0,\"y\":270.0},{\"x\":540.0,\"y\":270.0},{\"x\":540.0,\"y\":324.0},{\"x\":457.0,\"y\":324.0}]},\"inferText\":\"레시틴,\",\"inferConfidence\":0.9964,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":533.0,\"y\":269.0},{\"x\":673.0,\"y\":269.0},{\"x\":673.0,\"y\":324.0},{\"x\":533.0,\"y\":324.0}]},\"inferText\":\"탄산마그네슘\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":674.0,\"y\":269.0},{\"x\":773.0,\"y\":269.0},{\"x\":773.0,\"y\":323.0},{\"x\":674.0,\"y\":323.0}]},\"inferText\":\"대두함유\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":70.0,\"y\":347.0},{\"x\":81.0,\"y\":347.0},{\"x\":81.0,\"y\":363.0},{\"x\":70.0,\"y\":363.0}]},\"inferText\":\"·\",\"inferConfidence\":0.9904,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":82.0,\"y\":335.0},{\"x\":110.0,\"y\":335.0},{\"x\":110.0,\"y\":379.0},{\"x\":82.0,\"y\":379.0}]},\"inferText\":\"이\",\"inferConfidence\":0.999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":106.0,\"y\":331.0},{\"x\":184.0,\"y\":331.0},{\"x\":184.0,\"y\":384.0},{\"x\":106.0,\"y\":384.0}]},\"inferText\":\"제품은\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":177.0,\"y\":331.0},{\"x\":240.0,\"y\":331.0},{\"x\":240.0,\"y\":384.0},{\"x\":177.0,\"y\":384.0}]},\"inferText\":\"난류,\",\"inferConfidence\":0.9973,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":233.0,\"y\":331.0},{\"x\":338.0,\"y\":331.0},{\"x\":338.0,\"y\":385.0},{\"x\":233.0,\"y\":385.0}]},\"inferText\":\"돼지고기,\",\"inferConfidence\":0.9974,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":330.0,\"y\":330.0},{\"x\":414.0,\"y\":330.0},{\"x\":414.0,\"y\":385.0},{\"x\":330.0,\"y\":385.0}]},\"inferText\":\"닭고기,\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":407.0,\"y\":331.0},{\"x\":654.0,\"y\":331.0},{\"x\":654.0,\"y\":384.0},{\"x\":407.0,\"y\":384.0}]},\"inferText\":\"쇠고기, 밀, 우유, 토마토,\",\"inferConfidence\":0.997,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":648.0,\"y\":331.0},{\"x\":705.0,\"y\":331.0},{\"x\":705.0,\"y\":385.0},{\"x\":648.0,\"y\":385.0}]},\"inferText\":\"게를\",\"inferConfidence\":0.9997,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":697.0,\"y\":331.0},{\"x\":776.0,\"y\":331.0},{\"x\":776.0,\"y\":385.0},{\"x\":697.0,\"y\":385.0}]},\"inferText\":\"사용한\",\"inferConfidence\":0.9994,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":57.0,\"y\":375.0},{\"x\":135.0,\"y\":375.0},{\"x\":135.0,\"y\":430.0},{\"x\":57.0,\"y\":430.0}]},\"inferText\":\"제품과\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":127.0,\"y\":377.0},{\"x\":184.0,\"y\":377.0},{\"x\":184.0,\"y\":430.0},{\"x\":127.0,\"y\":430.0}]},\"inferText\":\"같은\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":177.0,\"y\":378.0},{\"x\":275.0,\"y\":378.0},{\"x\":275.0,\"y\":430.0},{\"x\":177.0,\"y\":430.0}]},\"inferText\":\"제조시설\",\"inferConfidence\":0.9988,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":269.0,\"y\":378.0},{\"x\":325.0,\"y\":378.0},{\"x\":325.0,\"y\":430.0},{\"x\":269.0,\"y\":430.0}]},\"inferText\":\"에서\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":318.0,\"y\":378.0},{\"x\":416.0,\"y\":378.0},{\"x\":416.0,\"y\":430.0},{\"x\":318.0,\"y\":430.0}]},\"inferText\":\"제조하고\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":411.0,\"y\":377.0},{\"x\":514.0,\"y\":377.0},{\"x\":514.0,\"y\":431.0},{\"x\":411.0,\"y\":431.0}]},\"inferText\":\"있습니다.\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":511.0,\"y\":396.0},{\"x\":523.0,\"y\":396.0},{\"x\":523.0,\"y\":411.0},{\"x\":511.0,\"y\":411.0}]},\"inferText\":\"·\",\"inferConfidence\":0.9946,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":524.0,\"y\":383.0},{\"x\":551.0,\"y\":383.0},{\"x\":551.0,\"y\":425.0},{\"x\":524.0,\"y\":425.0}]},\"inferText\":\"본\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":548.0,\"y\":378.0},{\"x\":625.0,\"y\":378.0},{\"x\":625.0,\"y\":430.0},{\"x\":548.0,\"y\":430.0}]},\"inferText\":\"제품은\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":619.0,\"y\":378.0},{\"x\":697.0,\"y\":378.0},{\"x\":697.0,\"y\":430.0},{\"x\":619.0,\"y\":430.0}]},\"inferText\":\"소비자\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":689.0,\"y\":378.0},{\"x\":786.0,\"y\":378.0},{\"x\":786.0,\"y\":430.0},{\"x\":689.0,\"y\":430.0}]},\"inferText\":\"분쟁해결\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":57.0,\"y\":423.0},{\"x\":133.0,\"y\":423.0},{\"x\":133.0,\"y\":476.0},{\"x\":57.0,\"y\":476.0}]},\"inferText\":\"기준에\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":126.0,\"y\":423.0},{\"x\":183.0,\"y\":423.0},{\"x\":183.0,\"y\":477.0},{\"x\":126.0,\"y\":477.0}]},\"inferText\":\"의거\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":176.0,\"y\":424.0},{\"x\":295.0,\"y\":424.0},{\"x\":295.0,\"y\":478.0},{\"x\":176.0,\"y\":478.0}]},\"inferText\":\"구입처에서\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":288.0,\"y\":424.0},{\"x\":346.0,\"y\":424.0},{\"x\":346.0,\"y\":476.0},{\"x\":288.0,\"y\":476.0}]},\"inferText\":\"교환\",\"inferConfidence\":0.998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":338.0,\"y\":423.0},{\"x\":396.0,\"y\":423.0},{\"x\":396.0,\"y\":476.0},{\"x\":338.0,\"y\":476.0}]},\"inferText\":\"또는\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":389.0,\"y\":425.0},{\"x\":446.0,\"y\":425.0},{\"x\":446.0,\"y\":478.0},{\"x\":389.0,\"y\":478.0}]},\"inferText\":\"보상\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":442.0,\"y\":429.0},{\"x\":469.0,\"y\":429.0},{\"x\":469.0,\"y\":472.0},{\"x\":442.0,\"y\":472.0}]},\"inferText\":\"을\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":467.0,\"y\":423.0},{\"x\":523.0,\"y\":423.0},{\"x\":523.0,\"y\":477.0},{\"x\":467.0,\"y\":477.0}]},\"inferText\":\"받을\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":521.0,\"y\":428.0},{\"x\":547.0,\"y\":428.0},{\"x\":547.0,\"y\":473.0},{\"x\":521.0,\"y\":473.0}]},\"inferText\":\"수\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":547.0,\"y\":424.0},{\"x\":648.0,\"y\":424.0},{\"x\":648.0,\"y\":478.0},{\"x\":547.0,\"y\":478.0}]},\"inferText\":\"있습니다.\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":646.0,\"y\":442.0},{\"x\":657.0,\"y\":442.0},{\"x\":657.0,\"y\":457.0},{\"x\":646.0,\"y\":457.0}]},\"inferText\":\"·\",\"inferConfidence\":0.9908,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":655.0,\"y\":425.0},{\"x\":711.0,\"y\":425.0},{\"x\":711.0,\"y\":477.0},{\"x\":655.0,\"y\":477.0}]},\"inferText\":\"개봉\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":708.0,\"y\":429.0},{\"x\":735.0,\"y\":429.0},{\"x\":735.0,\"y\":473.0},{\"x\":708.0,\"y\":473.0}]},\"inferText\":\"후\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":733.0,\"y\":424.0},{\"x\":790.0,\"y\":424.0},{\"x\":790.0,\"y\":478.0},{\"x\":733.0,\"y\":478.0}]},\"inferText\":\"냉장\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":55.0,\"y\":471.0},{\"x\":112.0,\"y\":471.0},{\"x\":112.0,\"y\":523.0},{\"x\":55.0,\"y\":523.0}]},\"inferText\":\"보관\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":105.0,\"y\":470.0},{\"x\":183.0,\"y\":470.0},{\"x\":183.0,\"y\":524.0},{\"x\":105.0,\"y\":524.0}]},\"inferText\":\"하거나\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":176.0,\"y\":471.0},{\"x\":231.0,\"y\":471.0},{\"x\":231.0,\"y\":524.0},{\"x\":176.0,\"y\":524.0}]},\"inferText\":\"빨리\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":225.0,\"y\":471.0},{\"x\":303.0,\"y\":471.0},{\"x\":303.0,\"y\":523.0},{\"x\":225.0,\"y\":523.0}]},\"inferText\":\"드시기\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":297.0,\"y\":471.0},{\"x\":400.0,\"y\":471.0},{\"x\":400.0,\"y\":523.0},{\"x\":297.0,\"y\":523.0}]},\"inferText\":\"바랍니다.\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":405.0,\"y\":487.0},{\"x\":418.0,\"y\":487.0},{\"x\":418.0,\"y\":505.0},{\"x\":405.0,\"y\":505.0}]},\"inferText\":\"·\",\"inferConfidence\":0.9953,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":413.0,\"y\":470.0},{\"x\":471.0,\"y\":470.0},{\"x\":471.0,\"y\":524.0},{\"x\":413.0,\"y\":524.0}]},\"inferText\":\"부정\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":469.0,\"y\":485.0},{\"x\":479.0,\"y\":485.0},{\"x\":479.0,\"y\":498.0},{\"x\":469.0,\"y\":498.0}]},\"inferText\":\".\",\"inferConfidence\":0.4967,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":477.0,\"y\":471.0},{\"x\":535.0,\"y\":471.0},{\"x\":535.0,\"y\":523.0},{\"x\":477.0,\"y\":523.0}]},\"inferText\":\"불량\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":526.0,\"y\":470.0},{\"x\":584.0,\"y\":470.0},{\"x\":584.0,\"y\":523.0},{\"x\":526.0,\"y\":523.0}]},\"inferText\":\"식품\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":577.0,\"y\":471.0},{\"x\":654.0,\"y\":471.0},{\"x\":654.0,\"y\":523.0},{\"x\":577.0,\"y\":523.0}]},\"inferText\":\"신고는\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":647.0,\"y\":471.0},{\"x\":745.0,\"y\":471.0},{\"x\":745.0,\"y\":523.0},{\"x\":647.0,\"y\":523.0}]},\"inferText\":\"국번없이\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":738.0,\"y\":472.0},{\"x\":797.0,\"y\":472.0},{\"x\":797.0,\"y\":519.0},{\"x\":738.0,\"y\":519.0}]},\"inferText\":\"1399\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":28.0,\"y\":535.0},{\"x\":141.0,\"y\":535.0},{\"x\":141.0,\"y\":588.0},{\"x\":28.0,\"y\":588.0}]},\"inferText\":\"영양정보:\",\"inferConfidence\":0.9214,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":136.0,\"y\":539.0},{\"x\":163.0,\"y\":539.0},{\"x\":163.0,\"y\":583.0},{\"x\":136.0,\"y\":583.0}]},\"inferText\":\"총\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":161.0,\"y\":534.0},{\"x\":238.0,\"y\":534.0},{\"x\":238.0,\"y\":588.0},{\"x\":161.0,\"y\":588.0}]},\"inferText\":\"내용량\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":232.0,\"y\":539.0},{\"x\":284.0,\"y\":539.0},{\"x\":284.0,\"y\":584.0},{\"x\":232.0,\"y\":584.0}]},\"inferText\":\"250\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":283.0,\"y\":551.0},{\"x\":300.0,\"y\":551.0},{\"x\":300.0,\"y\":584.0},{\"x\":283.0,\"y\":584.0}]},\"inferText\":\"g\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":300.0,\"y\":540.0},{\"x\":350.0,\"y\":540.0},{\"x\":350.0,\"y\":584.0},{\"x\":300.0,\"y\":584.0}]},\"inferText\":\"100\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":343.0,\"y\":536.0},{\"x\":391.0,\"y\":536.0},{\"x\":391.0,\"y\":588.0},{\"x\":343.0,\"y\":588.0}]},\"inferText\":\"g당\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":386.0,\"y\":540.0},{\"x\":423.0,\"y\":540.0},{\"x\":423.0,\"y\":581.0},{\"x\":386.0,\"y\":581.0}]},\"inferText\":\"45\",\"inferConfidence\":0.9997,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":420.0,\"y\":541.0},{\"x\":474.0,\"y\":541.0},{\"x\":474.0,\"y\":582.0},{\"x\":420.0,\"y\":582.0}]},\"inferText\":\"kcal\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":32.0,\"y\":588.0},{\"x\":90.0,\"y\":588.0},{\"x\":90.0,\"y\":642.0},{\"x\":32.0,\"y\":642.0}]},\"inferText\":\"열량\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":91.0,\"y\":589.0},{\"x\":169.0,\"y\":589.0},{\"x\":169.0,\"y\":643.0},{\"x\":91.0,\"y\":643.0}]},\"inferText\":\"나트륨\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":172.0,\"y\":590.0},{\"x\":270.0,\"y\":590.0},{\"x\":270.0,\"y\":643.0},{\"x\":172.0,\"y\":643.0}]},\"inferText\":\"탄수화물\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":272.0,\"y\":589.0},{\"x\":330.0,\"y\":589.0},{\"x\":330.0,\"y\":644.0},{\"x\":272.0,\"y\":644.0}]},\"inferText\":\"당류\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":331.0,\"y\":591.0},{\"x\":388.0,\"y\":591.0},{\"x\":388.0,\"y\":643.0},{\"x\":331.0,\"y\":643.0}]},\"inferText\":\"지방\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":389.0,\"y\":590.0},{\"x\":509.0,\"y\":590.0},{\"x\":509.0,\"y\":642.0},{\"x\":389.0,\"y\":642.0}]},\"inferText\":\"트랜스지방\",\"inferConfidence\":0.9992,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":512.0,\"y\":590.0},{\"x\":610.0,\"y\":590.0},{\"x\":610.0,\"y\":643.0},{\"x\":512.0,\"y\":643.0}]},\"inferText\":\"포화지방\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":612.0,\"y\":590.0},{\"x\":731.0,\"y\":590.0},{\"x\":731.0,\"y\":643.0},{\"x\":612.0,\"y\":643.0}]},\"inferText\":\"콜레스테롤\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":734.0,\"y\":589.0},{\"x\":810.0,\"y\":589.0},{\"x\":810.0,\"y\":643.0},{\"x\":734.0,\"y\":643.0}]},\"inferText\":\"단백질\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":42.0,\"y\":646.0},{\"x\":81.0,\"y\":646.0},{\"x\":81.0,\"y\":687.0},{\"x\":42.0,\"y\":687.0}]},\"inferText\":\"45\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":108.0,\"y\":644.0},{\"x\":152.0,\"y\":644.0},{\"x\":152.0,\"y\":689.0},{\"x\":108.0,\"y\":689.0}]},\"inferText\":\"0%\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":202.0,\"y\":646.0},{\"x\":241.0,\"y\":646.0},{\"x\":241.0,\"y\":688.0},{\"x\":202.0,\"y\":688.0}]},\"inferText\":\"1%\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":280.0,\"y\":645.0},{\"x\":324.0,\"y\":645.0},{\"x\":324.0,\"y\":690.0},{\"x\":280.0,\"y\":690.0}]},\"inferText\":\"0%\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":339.0,\"y\":645.0},{\"x\":382.0,\"y\":645.0},{\"x\":382.0,\"y\":690.0},{\"x\":339.0,\"y\":690.0}]},\"inferText\":\"2%\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":537.0,\"y\":645.0},{\"x\":582.0,\"y\":645.0},{\"x\":582.0,\"y\":689.0},{\"x\":537.0,\"y\":689.0}]},\"inferText\":\"0%\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":644.0,\"y\":644.0},{\"x\":690.0,\"y\":644.0},{\"x\":690.0,\"y\":690.0},{\"x\":644.0,\"y\":690.0}]},\"inferText\":\"0%\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":747.0,\"y\":646.0},{\"x\":790.0,\"y\":646.0},{\"x\":790.0,\"y\":689.0},{\"x\":747.0,\"y\":689.0}]},\"inferText\":\"9%\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":429.0,\"y\":667.0},{\"x\":468.0,\"y\":667.0},{\"x\":468.0,\"y\":715.0},{\"x\":429.0,\"y\":715.0}]},\"inferText\":\"0g\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":34.0,\"y\":688.0},{\"x\":87.0,\"y\":688.0},{\"x\":87.0,\"y\":727.0},{\"x\":34.0,\"y\":727.0}]},\"inferText\":\"kcal\",\"inferConfidence\":0.9995,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":101.0,\"y\":687.0},{\"x\":158.0,\"y\":687.0},{\"x\":158.0,\"y\":733.0},{\"x\":101.0,\"y\":733.0}]},\"inferText\":\"0mg\",\"inferConfidence\":0.9976,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":200.0,\"y\":688.0},{\"x\":240.0,\"y\":688.0},{\"x\":240.0,\"y\":734.0},{\"x\":200.0,\"y\":734.0}]},\"inferText\":\"4g\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":283.0,\"y\":689.0},{\"x\":320.0,\"y\":689.0},{\"x\":320.0,\"y\":733.0},{\"x\":283.0,\"y\":733.0}]},\"inferText\":\"0g\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":332.0,\"y\":687.0},{\"x\":387.0,\"y\":687.0},{\"x\":387.0,\"y\":735.0},{\"x\":332.0,\"y\":735.0}]},\"inferText\":\"1.0g\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":541.0,\"y\":689.0},{\"x\":579.0,\"y\":689.0},{\"x\":579.0,\"y\":733.0},{\"x\":541.0,\"y\":733.0}]},\"inferText\":\"0g\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":640.0,\"y\":684.0},{\"x\":700.0,\"y\":693.0},{\"x\":694.0,\"y\":736.0},{\"x\":634.0,\"y\":727.0}]},\"inferText\":\"0mg\",\"inferConfidence\":0.9984,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":751.0,\"y\":690.0},{\"x\":786.0,\"y\":690.0},{\"x\":786.0,\"y\":732.0},{\"x\":751.0,\"y\":732.0}]},\"inferText\":\"5g\",\"inferConfidence\":0.9996,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":20.0,\"y\":742.0},{\"x\":63.0,\"y\":742.0},{\"x\":63.0,\"y\":790.0},{\"x\":20.0,\"y\":790.0}]},\"inferText\":\"1일\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":57.0,\"y\":738.0},{\"x\":155.0,\"y\":738.0},{\"x\":155.0,\"y\":793.0},{\"x\":57.0,\"y\":793.0}]},\"inferText\":\"영양성분\",\"inferConfidence\":0.9985,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":147.0,\"y\":738.0},{\"x\":245.0,\"y\":738.0},{\"x\":245.0,\"y\":793.0},{\"x\":147.0,\"y\":793.0}]},\"inferText\":\"기준치에\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":238.0,\"y\":738.0},{\"x\":296.0,\"y\":738.0},{\"x\":296.0,\"y\":793.0},{\"x\":238.0,\"y\":793.0}]},\"inferText\":\"대한\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":286.0,\"y\":738.0},{\"x\":396.0,\"y\":738.0},{\"x\":396.0,\"y\":793.0},{\"x\":286.0,\"y\":793.0}]},\"inferText\":\"비율(%)은\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":389.0,\"y\":742.0},{\"x\":503.0,\"y\":742.0},{\"x\":503.0,\"y\":788.0},{\"x\":389.0,\"y\":788.0}]},\"inferText\":\"2,000kcal\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":497.0,\"y\":738.0},{\"x\":615.0,\"y\":738.0},{\"x\":615.0,\"y\":790.0},{\"x\":497.0,\"y\":790.0}]},\"inferText\":\"기준이므로\",\"inferConfidence\":0.9971,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":607.0,\"y\":738.0},{\"x\":685.0,\"y\":738.0},{\"x\":685.0,\"y\":791.0},{\"x\":607.0,\"y\":791.0}]},\"inferText\":\"개인의\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":676.0,\"y\":738.0},{\"x\":734.0,\"y\":738.0},{\"x\":734.0,\"y\":791.0},{\"x\":676.0,\"y\":791.0}]},\"inferText\":\"필요\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":725.0,\"y\":738.0},{\"x\":801.0,\"y\":738.0},{\"x\":801.0,\"y\":791.0},{\"x\":725.0,\"y\":791.0}]},\"inferText\":\"열량에\",\"inferConfidence\":0.9989,\"type\":\"NORMAL\",\"lineBreak\":true},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":19.0,\"y\":791.0},{\"x\":75.0,\"y\":791.0},{\"x\":75.0,\"y\":845.0},{\"x\":19.0,\"y\":845.0}]},\"inferText\":\"따라\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":68.0,\"y\":792.0},{\"x\":124.0,\"y\":792.0},{\"x\":124.0,\"y\":844.0},{\"x\":68.0,\"y\":844.0}]},\"inferText\":\"다를\",\"inferConfidence\":0.9998,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":120.0,\"y\":796.0},{\"x\":147.0,\"y\":796.0},{\"x\":147.0,\"y\":840.0},{\"x\":120.0,\"y\":840.0}]},\"inferText\":\"수\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":143.0,\"y\":790.0},{\"x\":247.0,\"y\":790.0},{\"x\":247.0,\"y\":845.0},{\"x\":143.0,\"y\":845.0}]},\"inferText\":\"있습니다.\",\"inferConfidence\":1.0,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":290.0,\"y\":799.0},{\"x\":394.0,\"y\":799.0},{\"x\":394.0,\"y\":841.0},{\"x\":290.0,\"y\":841.0}]},\"inferText\":\"고객상담실 :\",\"inferConfidence\":0.9328,\"type\":\"NORMAL\",\"lineBreak\":false},{\"valueType\":\"ALL\",\"boundingPoly\":{\"vertices\":[{\"x\":389.0,\"y\":801.0},{\"x\":622.0,\"y\":798.0},{\"x\":623.0,\"y\":834.0},{\"x\":389.0,\"y\":837.0}]},\"inferText\":\"080-729-1234\",\"inferConfidence\":0.9999,\"type\":\"NORMAL\",\"lineBreak\":true}]}]}";

            processedText = ocrService.parseJson(ocrResponse); // 응답 텍스트 전처리

            // 등록 제품인지 판단
            Product product = productService.getProduct(processedText.getProductName());
            if (product == null) processedText.setProductName(null);

            // 괄호 짝이 맞는지 확인
            if (!processedText.isFullBracket())
                return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(processedText); // 400 Bad Request
            return ResponseEntity.ok(processedText);
        } catch (Exception e) {
            return new ResponseEntity<>(HttpStatus.INTERNAL_SERVER_ERROR); // 500 Sever Error
        }
    }

    @PostMapping("/reading")
    public ResponseEntity<IngredientResponse> checkIngredients(@RequestBody IngredientRequest request) {
        Integer userVegTypeId = request.getVegTypeId();  // 사용자 채식유형
        Integer proVegTypeId = null;  // 제품 채식유형

        List<String> ingredients;

        // 등록 제품 처리
        if (request.getProductName() != null) {
            Product product = productService.getProduct(request.getProductName());
            proVegTypeId = product.getVegType().getId();
            ingredients = IngredientUtil.splitByCommaOutsideBrackets(product.getIngredients());
        } else if (!request.isFullBracket()) {
            ingredients = IngredientUtil.extractCleanIngredient(Collections.singletonList(request.getIngredients()));
            if (ingredients == null)
                return new ResponseEntity<>(HttpStatus.BAD_REQUEST);  // 400 Bad Request
            ingredients = IngredientUtil.splitByCommaOutsideBrackets(ingredients.toString());
        } else {
            ingredients = IngredientUtil.splitByCommaOutsideBrackets(request.getIngredients());
        }

        // 제품 판독
        IngredientResponse result = ingredientService.checkConsumable(ingredients, userVegTypeId, proVegTypeId);

        // 판독 기반 추천
        List<ProductDTO> products = recommendationService.recommendReadingBased(userVegTypeId, result.getConsumables().toString())
                .stream().map(ProductDTO::new).toList();
        result.setRecommendations(products);
        return ResponseEntity.ok(result);
    }
}